(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t){},1:function(e,t){},"6+jb":function(e,t,n){"use strict";n.r(t);var r,i,o,a,l=n("q1tI"),u=n.n(l),c=n("i8i4"),s=n.n(c),f=n("7QyF"),p=n("2vnA"),y=n("IiLU"),b=n.n(y),h=n("aIrq");function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g,w,O,j,E,k,S,P,C,_,z,T,x,I=(i=v((r=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"name",i,this),m(this,"inputItems",o,this),m(this,"inputBuilt",a,this),this.clear=function(){b.a.project.clear(),b.a.project.remove();var e=n.rootStore,t=e.canvas,r=e.animation;t.setSize(void 0,void 0),r.setIn(h.a.FIRST),r.setOut(r.frames)},this.load=function(e){var t=e.target.files,r=n.rootStore,i=r.canvas,o=r.animation,a=t[0],l=new FileReader;l.onload=function(){var e=JSON.parse(l.result);n.setName(a.name.replace(/\.[^/.]+$/,"")),Object.keys(e.animation).forEach((function(t){o[t]=e.animation[t]})),Object.keys(e.canvas).forEach((function(t){"animatables"===t?n.inputItems=e.canvas.animatables:i[t]=e.canvas[t]})),n.rootStore.mode.set("BUILD")},l.readAsText(a)},this.save=function(){var e=n.rootStore,t=e.canvas,r=e.animation;!function(e,t){(function(e,t,n){var r=new Blob([e],{type:"text/json"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(r,t);else{var i=document.createElement("a"),o=window.URL.createObjectURL(r);i.href=o,i.download=t,document.body.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(o)}))}})(e,"".concat(t,".json"))}(JSON.stringify({animation:r.toJSON(),canvas:t.toJSON()}),n.name)},this.publish=function(){console.log("publishing project")},this.rootStore=t}return function(e,t,n){t&&d(e.prototype,t)}(e,[{key:"setName",value:function(e){this.name=e}}]),e}()).prototype,"name",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"My Animation"}}),o=v(r.prototype,"inputItems",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=v(r.prototype,"inputBuilt",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v(r.prototype,"setName",[p.d],Object.getOwnPropertyDescriptor(r.prototype,"setName"),r.prototype),r);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var B,K,N,U,W=(w=F((g=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),R(this,"width",w,this),R(this,"height",O,this),R(this,"_color",j,this),R(this,"background",E,this),R(this,"animatables",k,this),R(this,"tool",S,this),R(this,"selected",P,this),this.attatchTo=function(e){var t=document.getElementById(e);b.a.setup(t)},R(this,"add",C,this),R(this,"remove",_,this),R(this,"setTool",z,this),R(this,"select",T,this),R(this,"deselect",x,this),this.addListenersAndSelect=function(e){e.item.on("mousedown",n.handleItemMouseDown),n.select(e.item)},this.handleItemMouseDown=function(e){e.stopPropagation(),n.select(e.currentTarget)},this.handleViewMouseDown=function(e){e.stopPropagation(),n.deselect()},this.forEachAnimatable=function(e){return Object.values(n.animatables).forEach(e)},this.build=function(){n.forEachAnimatable((function(e){e.create(n)})),n.draw()},this.draw=function(e){var t=e||n.rootStore.animation.now;n.forEachAnimatable((function(e){e.draw(t)})),b.a.view&&b.a.view.update()},this.selectOn=function(){n.forEachAnimatable((function(e){e.item.on("mousedown",n.handleItemMouseDown)})),b.a.view.on("mousedown",n.handleViewMouseDown)},this.selectOff=function(){n.forEachAnimatable((function(e){e.item.off("mousedown",n.handleItemMouseDown)})),b.a.view.off("mousedown",n.handleViewMouseDown),n.deselect()},this.rootStore=t}return function(e,t,n){t&&L(e.prototype,t)}(e,[{key:"toJSON",value:function(){return{color:this._color,animatables:Object.entries(this.animatables).reduce((function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t,2),r=n[0],i=n[1];return e[r]=i.toJSON(),e}),{})}}},{key:"setSize",value:function(e,t){var n=this,r=Object(p.d)((function(){n.height=t,n.width=e}));setTimeout(r,1)}},{key:"init",value:function(){b.a.view.autoUpdate=!1,this.background=new b.a.Path.Rectangle({topLeft:[0,0],bottomRight:[b.a.view.element.width,b.a.view.element.height],fillColor:this.color}),this.draw(this.rootStore.animation.firstFrame)}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this.background.fillColor=e}}]),e}()).prototype,"width",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=F(g.prototype,"height",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=F(g.prototype,"_color",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"#000000"}}),E=F(g.prototype,"background",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=F(g.prototype,"animatables",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),S=F(g.prototype,"tool",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=F(g.prototype,"selected",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=F(g.prototype,"add",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t.create(e),e.animatables=M({},e.animatables,D({},t.key,t)),"SELECT"===e.tool&&e.addListenersAndSelect(t),e.draw()}}}),_=F(g.prototype,"remove",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t.item.off("mousedown",e.handleItemMouseDown),t.item.remove();var n=M({},e.animatables);delete n[t.key],e.animatables=n,e.draw()}}}),z=F(g.prototype,"setTool",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){function n(e){return i!==e&&t===e}function r(e){return i===e&&t!==e}var i=e.tool;n("SELECT")&&e.selectOn(),r("SELECT")&&e.selectOff(),n("SETTINGS")&&(e.rootStore.mode.settings=!0),r("SETTINGS")&&(e.rootStore.mode.settings=!1),e.tool=t}}}),T=F(g.prototype,"select",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.deselect(),t.selected=!0,e.selected=e.animatables[t.name],b.a.view.update()}}}),x=F(g.prototype,"deselect",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.selected&&(e.selected.item.selected=!1,e.selected=void 0),b.a.view.update()}}}),g);function V(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function H(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var q,J,X,Y=(K=H((B=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),V(this,"current",K,this),V(this,"settings",N,this),V(this,"set",U,this)}).prototype,"current",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=H(B.prototype,"settings",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=H(B.prototype,"set",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.current=t}}}),B);function G(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Q(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function Z(e){return e.constructor.OBSERVABLES.map((function(t){if("keyframes"===t)return Object.keys(e.keyframes).map((function(t){return e.keyframes[t].map(Z)}));var n=e[t];return n.constructor.OBSERVABLES?Z(n):n}))}var $,ee,te,ne,re,ie,oe=(J=Q((q=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),G(this,"selectedKeyframe",J,this),G(this,"selectKeyframe",X,this)}).prototype,"selectedKeyframe",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=Q(q.prototype,"selectKeyframe",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.selectedKeyframe=t}}}),q);function ae(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function le(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var ue=(ee=le(($=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ae(this,"project",ee,this),ae(this,"canvas",te,this),ae(this,"animation",ne,this),ae(this,"mode",re,this),ae(this,"tools",ie,this),this.project=new I(this),this.canvas=new W(this),this.animation=new h.a,this.mode=new Y,this.tools=new oe,Object(p.n)((function(){return[t.animation.now,t.canvas.color,Object.values(t.canvas.animatables).map(Z)]}),(function(){return t.canvas.draw()}))}).prototype,"project",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=le($.prototype,"canvas",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=le($.prototype,"animation",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=le($.prototype,"mode",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=le($.prototype,"tools",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$),ce=(n("cYxY"),new ue),se=document.getElementById("app");s.a.render(u.a.createElement(f.a,{store:ce}),se)},"7QyF":function(e,t,n){"use strict";(function(e){var r,i=n("q1tI"),o=n.n(i),a=n("0cfB"),l=n("kMSe"),u=n("wpFA"),c=n("jzcZ"),s=n("xp50"),f=n("yQ/3"),p=n("qZNB"),y=n("aP9/");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=Object(l.a)(r=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,m(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(e,i.Component),function(e,t,n){t&&h(e.prototype,t)}(e,[{key:"componentDidMount",value:function(){var e=this.props.store;e.mode.set("BUILD"),e.canvas.setTool("SETTINGS")}},{key:"render",value:function(){var e=this.props.store;return o.a.createElement(y.a,{minHeight:"100vh",gridTemplateRows:"60px 1fr"},o.a.createElement(u.a,{mode:e.mode}),"BUILD"===e.mode.current&&o.a.createElement(c.a,{store:e}),"ANIMATE"===e.mode.current&&o.a.createElement(s.a,{store:e}),"VIEW"===e.mode.current&&o.a.createElement(f.a,{store:e}),"EXPORT"===e.mode.current&&o.a.createElement(p.a,{store:e}))}}]),e}())||r;t.a=Object(a.hot)(e)(v)}).call(this,n("3UD+")(e))},AHVW:function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),o=n("kMSe"),a=n("aIrq"),l=n("pC6C");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=e.fullWidth,n=e.totalFrames,r=e.inPoint,o=e.outPoint,a=e.now,l=e.ABSOLUTE_FIRST,u=t||0,s=u/n,f=1<n?s:0,p=parseInt((r-l)*s),b=parseInt((n-o)*s),h=parseInt(a*s-p);1===n?h=s:a===r?h=0:a===o&&(h=u-p-b-f);var m=a===o?0:u-p-b-h-f;return i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("div",{style:c({},y,{width:p,backgroundColor:"rgb(150, 160, 170)"})}),i.a.createElement("div",{style:c({},y,{width:h,backgroundColor:"rgb(220, 225, 240)"})}),i.a.createElement("div",{style:c({},y,{width:f,height:"20px",marginTop:"5px",backgroundColor:"rgb(30, 155, 255)"})}),i.a.createElement("div",{style:c({},y,{width:m,backgroundColor:"rgb(220, 225, 240)"})}),i.a.createElement("div",{style:c({},y,{width:b,backgroundColor:"rgb(150, 160, 170)"})}))}var p,y={height:"10px",margin:"10px 0px"};function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=Object(o.a)(p=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=m(e)).call.apply(t,[this].concat(i)))).canvasHasSize=function(){var e=n.props,t=e.canvas,r=e.setup;t.attatchTo("paper-canvas"),t.init(),r()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(e,r.Component),function(e,t,n){t&&h(e.prototype,t)}(e,[{key:"render",value:function(){var e=this.props,t=e.canvas,n=e.animation;return i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{id:"paper-canvas",width:t.width,height:t.height,hasSize:this.canvasHasSize}),i.a.createElement(f,{fullWidth:t.width,totalFrames:n.frames,inPoint:n.firstFrame,outPoint:n.lastFrame,now:n.now,ABSOLUTE_FIRST:a.a.FIRST}))}}]),e}())||p;t.a=v},RYE5:function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r);t.a=function(e){var t=e.id,n=e.children,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["id","children"]);return i.a.createElement("div",{id:t,style:r},n)}},"Rgk+":function(e,t,n){"use strict";var r,i,o,a=n("2vnA");function l(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function s(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var f=(i=s((r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"_influence",i,this),l(this,"_distance",o,this),this.type=t,this.influence=50,this.distance=0}return c(e,null,[{key:"MAX",get:function(){return 100}},{key:"STEP",get:function(){return 10}},{key:"OBSERVABLES",get:function(){return["influence","distance"]}}]),c(e,[{key:"toJSON",value:function(){return{type:this.type,influence:this.influence,distance:this.distance}}},{key:"influence",get:function(){return this._influence},set:function(e){this._influence=e}},{key:"distance",get:function(){return this._distance},set:function(e){this._distance=e}},{key:"position",get:function(){var t=this.influence,n=this.distance;return"IN"===this.type&&(t=e.MAX-this.influence,n=e.MAX-this.distance),{x:t/=e.MAX,y:n/=e.MAX}},set:function(t){var n=t.x,r=(t.y,n*e.MAX),i=n*e.MAX;"IN"===this.type?(this.influence=e.MAX-r,this.distance=e.MAX-i):(this.influence=r,this.distance=i)}}]),e}()).prototype,"_influence",[a.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=s(r.prototype,"_distance",[a.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r);t.a=f},aIrq:function(e,t,n){"use strict";var r,i,o,a,l,u,c,s,f,p,y,b,h,m,d,v,g,w,O,j,E=n("2vnA");function k(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function C(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var _=(i=C((r=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),k(this,"frames",i,this),k(this,"firstFrame",o,this),k(this,"lastFrame",a,this),k(this,"fps",l,this),k(this,"now",u,this),k(this,"playing",c,this),k(this,"sync",s,this),k(this,"requestId",f,this),k(this,"mode",p,this),k(this,"setIn",y,this),k(this,"setOut",b,this),this.nextFrame=function(){var e=t.now+1;return e>t.lastFrame?"LOOP"===t.mode?t.firstFrame:null:e},this.prevFrame=function(){var e=t.now-1;return e<t.firstFrame?"LOOP"===t.mode?t.lastFrame:null:e},k(this,"play",h,this),k(this,"pause",m,this),k(this,"goToFrame",d,this),k(this,"goToFirst",v,this),k(this,"goToLast",g,this),k(this,"goToNext",w,this),k(this,"goToPrev",O,this),k(this,"animateAtRate",j,this),this.setLength(100)}return P(e,null,[{key:"FIRST",get:function(){return 1}},{key:"PLAYBACK_MODES",get:function(){return["LOOP","ONCE"]}}]),P(e,[{key:"toJSON",value:function(){return{frames:this.frames,firstFrame:this.firstFrame,lastFrame:this.lastFrame,fps:this.fps,mode:this.mode}}},{key:"setLength",value:function(e){(this.frames=e)<this.lastFrame&&(this.lastFrame=e)}}]),e}()).prototype,"frames",[E.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),o=C(r.prototype,"firstFrame",[E.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.FIRST}}),a=C(r.prototype,"lastFrame",[E.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),l=C(r.prototype,"fps",[E.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),u=C(r.prototype,"now",[E.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.firstFrame}}),c=C(r.prototype,"playing",[E.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=C(r.prototype,"sync",[E.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=C(r.prototype,"requestId",[E.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=C(r.prototype,"mode",[E.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"LOOP"}}),C(r.prototype,"setLength",[E.d],Object.getOwnPropertyDescriptor(r.prototype,"setLength"),r.prototype),y=C(r.prototype,"setIn",[E.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t<_.FIRST||t>e.frames||(e.firstFrame=t,e.now<t&&e.goToFrame(t))}}}),b=C(r.prototype,"setOut",[E.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t<_.FIRST||t>e.frames||(e.lastFrame=t,e.now>t&&e.goToFrame(t))}}}),h=C(r.prototype,"play",[E.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){null!==e.nextFrame()&&(e.playing=!0,e.animateAtRate((function(){var t=e.nextFrame();if(null===t)return e.pause();e.now=t})))}}}),m=C(r.prototype,"pause",[E.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.playing=!1,e.requestId&&cancelAnimationFrame(e.requestId)}}}),d=C(r.prototype,"goToFrame",[E.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.now=t}}}),v=C(r.prototype,"goToFirst",[E.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.goToFrame(e.firstFrame)}}}),g=C(r.prototype,"goToLast",[E.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.goToFrame(e.lastFrame)}}}),w=C(r.prototype,"goToNext",[E.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.nextFrame();null!==t&&e.goToFrame(t)}}}),O=C(r.prototype,"goToPrev",[E.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.prevFrame();null!==t&&e.goToFrame(t)}}}),j=C(r.prototype,"animateAtRate",[E.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=1e3/e.fps,r=Date.now();!function i(){if(!1!==e.playing){e.requestId=requestAnimationFrame(i);var o=Date.now(),a=o-r;n<=a&&(r=o-a%n,e.sync=Math.round(a-n-a%n),t())}}()}}}),r);t.a=_},"aP9/":function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["children"]);return i.a.createElement("div",{style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({display:"grid"},n)},t)}},cYxY:function(e,t,n){var r=n("zGb5");r.keys().forEach(r)},jzcZ:function(e,t,n){"use strict";function r(e,t){return{real:e,imag:t}}function i(e,t,n,r,i){var o=t*e,a=o+n,l=a*e+r;return{Q:l*e+i,dQ:(o+a)*e+l,B1:a,C2:l}}var o,a,l,u,c,s,f,p=n("q1tI"),y=n.n(p),b=n("kMSe"),h=n("AHVW"),m=n("2vnA"),d=n("IiLU"),v=n.n(d),g=n("Rgk+"),w=function(e){var t=e.x2,n=e.x3,o=e.y2,a=e.y3;if(1<t||t<0||1<n||n<0)throw Error("This bezier curve requires control values between 0 & 1");function l(e){var t=function(e,t,n,o){var a,l,u,c;if(0===e)a=void 0,l=t,u=n,c=o;else if(0===o)a=0,l=e,u=t,c=n;else{var s=i(a=-t/(l=e)/3,e,t,n,o),f=s.Q,p=s.dQ;u=s.B1,c=s.C2;var y=f/e,b=Math.pow(Math.abs(y),1/3),h=Math.sign(y);0<(y=-p/e)&&(b=1.324717957244746*Math.max(b,Math.sqrt(y)));var m=a-h*b;if(m!==a){for(var d=1+100*Number.EPSILON;f=(s=i(a=m,e,t,n,o)).Q,p=s.dQ,u=s.B1,c=s.C2,h*a<h*(m=0===p?a:a-f/p/d););Math.abs(e)*a*a>Math.abs(o/a)&&(u=((c=-o/a)-n)/a)}}var v=[];void 0!==a&&v.push(r(a,0));var g=function(e,t,n){var i=-t/2,o=i*i-e*n,a=0,l=0,u=0,c=0;if(o<0){u=a=i/e,c=-(l=Math.sqrt(-o)/e)}else{c=l=0;var s=i+Math.sign(i)*Math.sqrt(o);u=0==s?(a=n/e,-n/e):(a=n/s,s/e)}return[r(a,l),r(u,c)]}(l,u,c);return v.concat(g)}(u,c,s,-e);return t.filter((function(e){return 0===e.imag&&0<=e.real.toFixed(10)&&e.real.toFixed(10)<=1&&!Object.is(e.real,-0)})),t[0].real}var u=3*t-3*n+1,c=-6*t+3*n,s=3*t,f=3*o-3*a+1,p=-6*o+3*a,y=3*o;return{t:l,y:function(e){return function(e,t,n,r,i){return t*Math.pow(e,3)+n*Math.pow(e,2)+r*e+0}(l(e),f,p,y)}}};function O(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function k(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var S,P,C,_,z,T,x,I,A=(f=s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,"frame",a,this),O(this,"value",l,this),O(this,"handleIn",u,this),O(this,"handleOut",c,this),this.frame=t,this.value=n,this.handleIn=new g.a("IN"),this.handleOut=new g.a("OUT")}return E(e,null,[{key:"OBSERVABLES",get:function(){return["frame","value","handleIn","handleOut"]}}]),E(e,[{key:"toJSON",value:function(){return{frame:this.frame,value:this.value,handleIn:this.handleIn.toJSON(),handleOut:this.handleOut.toJSON()}}}],[{key:"fromJSON",value:function(t){var n=t.frame,r=t.value,i=t.handleIn,o=t.handleOut,a=new e(n,r);return a.handleIn.influence=i.influence,a.handleIn.distance=i.distance,a.handleOut.influence=o.influence,a.handleOut.distance=o.distance,a}}]),e}(),s.sort=function(e,t){return e.frame-t.frame},s.createCurve=function(e,t){return w({x2:e.handleOut.position.x,y2:e.handleOut.position.y,x3:t.handleIn.position.x,y3:t.handleIn.position.y})},s.interpolate=function(e,t,n){var r=A.createCurve(e,t),i=(n-e.frame)/(t.frame-e.frame),o=r.y(i);return(t.value-e.value)*o+e.value},a=k((o=f).prototype,"frame",[m.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=k(o.prototype,"value",[m.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=k(o.prototype,"handleIn",[m.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=k(o.prototype,"handleOut",[m.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o),M=A;function D(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function K(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),e}function W(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var V,H,q=(P=W((S=function(){function e(t){var n=this,r=t.key;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),K(this,"canvas",P,this),K(this,"_x",C,this),K(this,"_y",_,this),K(this,"_scale",z,this),K(this,"_rotation",T,this),K(this,"_fillColor",x,this),K(this,"keyframes",I,this),this.absolute=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"width";return e/100*n.canvas[t]},this.fraction=function(e){return e/100},this.valueForFrame=function(e,t){var n=t.map((function(e){return e.frame}));if(n.includes(e))return t[n.indexOf(e)].value;n.push(e),n.sort((function(e,t){return e-t}));var r=n.indexOf(e);if(0===r)return t[0].value;if(r===n.length-1)return t[t.length-1].value;var i=t[r-1],o=t[r];return M.interpolate(i,o,e)},this.key=r}return U(e,null,[{key:"X",get:function(){return 50}},{key:"Y",get:function(){return 50}},{key:"SCALE",get:function(){return 100}},{key:"ROTATION",get:function(){return 0}},{key:"FILL_COLOR",get:function(){return{hue:Math.floor(361*Math.random()),saturation:.4,brightness:1}}},{key:"OBSERVABLES",get:function(){return["x","y","scale","rotation","fillColor","keyframes"]}}]),U(e,[{key:"toJSON",value:function(){return{class:this.constructor.name,x:this.x,y:this.y,scale:this.scale,rotation:this.rotation,fillColor:this.fillColor,keyframes:Object.entries(this.keyframes).reduce((function(e,t){var n=B(t,2),r=n[0],i=n[1];return e[r]=i.map((function(e){return e.toJSON()})),e}),{})}}},{key:"setCanvas",value:function(e){this.canvas=e}},{key:"setUntrackedValues",value:function(){this.item.scale(this.fraction(this.scale)),this.item.rotate(this.rotation)}},{key:"updateKeyframes",value:function(e,t){this.keyframes=L({},this.keyframes,F({},e,t))}},{key:"addKey",value:function(e,t,n,r){var i=3<arguments.length&&void 0!==r&&r,o=(2<arguments.length&&void 0!==n?n:void 0)||this[e],a=new M(t,o),l=[].concat(D(this.keyframes[e]),[a]);if(l.sort(M.sort),i)this.updateKeyframes(e,l);else{var u,c;"x"===e&&(c="y"),"y"===e&&(c="x");var s=this[c],f=new M(t,s),p=[].concat(D(this.keyframes[c]),[f]);p.sort(M.sort),this.keyframes=L({},this.keyframes,(F(u={},e,l),F(u,c,p),u))}return a}},{key:"removeKey",value:function(e,t){var n=D(this.keyframes[e]);if(n=n.filter((function(e){return e.frame!==t})),"x"===e){var r=D(this.keyframes.y);r=r.filter((function(e){return e.frame!==t})),this.keyframes=L({},this.keyframes,{x:n,y:r})}else this.updateKeyframes(e,n)}},{key:"create",value:function(e){void 0===this.canvas&&this.setCanvas(e);var t={name:this.key,fillColor:this.fillColor};"function"==typeof this.onCreate&&this.onCreate(t),void 0!==this.item&&this.setUntrackedValues()}},{key:"recreate",value:function(){this.item.remove(),this.create(this.canvas),this.canvas.addListenersAndSelect(this)}},{key:"draw",value:function(e){var t=this;void 0!==this.item&&Object.entries(this.keyframes).forEach((function(n){var r=B(n,2),i=r[0],o=r[1];if("y"!==i)if("x"===i){var a=o,l=t.keyframes.y;if(0===a.length&&0===l.length)return;var u=t.valueForFrame(e,a),c=t.valueForFrame(e,l);t.position={x:u,y:c}}else{if(0===o.length)return;var s=t.valueForFrame(e,o);t[i]=s}}))}},{key:"item",get:function(){return v.a.project.activeLayer.children[this.key]}},{key:"x",get:function(){return this._x},set:function(e){this.item.position.x=this.absolute(e),this._x=e}},{key:"y",get:function(){return this._y},set:function(e){this.item.position.y=this.absolute(e,"height"),this._y=e}},{key:"position",get:function(){return{x:this.x,y:this.y}},set:function(e){var t=e.x,n=e.y;this.x=t,this.y=n}},{key:"scale",get:function(){return this._scale},set:function(e){if(0===this.scale&&0!==e)this.item.remove(),this.create(this.canvas),this.item.scale(this.fraction(e));else{var t=e/this.scale;this.item.scale(t)}this._scale=e}},{key:"rotation",get:function(){return this._rotation},set:function(e){var t=e-this.rotation;this.item.rotate(t),this._rotation=e}},{key:"fillColor",get:function(){return this._fillColor},set:function(e){this.item.fillColor=e,this._fillColor=e}}]),e}()).prototype,"canvas",[m.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=W(S.prototype,"_x",[m.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.X}}),_=W(S.prototype,"_y",[m.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.Y}}),z=W(S.prototype,"_scale",[m.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.SCALE}}),T=W(S.prototype,"_rotation",[m.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.ROTATION}}),x=W(S.prototype,"_fillColor",[m.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.FILL_COLOR}}),I=W(S.prototype,"keyframes",[m.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{x:Object(m.m)([]),y:Object(m.m)([]),scale:Object(m.m)([]),rotation:Object(m.m)([])}}}),W(S.prototype,"setCanvas",[m.d],Object.getOwnPropertyDescriptor(S.prototype,"setCanvas"),S.prototype),W(S.prototype,"setUntrackedValues",[m.d],Object.getOwnPropertyDescriptor(S.prototype,"setUntrackedValues"),S.prototype),W(S.prototype,"updateKeyframes",[m.d],Object.getOwnPropertyDescriptor(S.prototype,"updateKeyframes"),S.prototype),S),J=q;function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t,n){return(ee="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=te(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re,ie,oe,ae,le,ue,ce,se,fe,pe=(re=(V=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return function(e,t,n,r){n&&Object.defineProperty(e,"_radius",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(n=function(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?$(e):t}(this,(t=te(e)).call.apply(t,[this].concat(i))),0,H,$(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(e,J),function(e,t,n){t&&Z(e.prototype,t),n&&Z(e,n)}(e,[{key:"toJSON",value:function(){return G({},ee(te(e.prototype),"toJSON",this).call(this),{radius:this.radius})}},{key:"onCreate",value:function(e){var t=this.position,n=t.x,r=t.y;new v.a.Path.Circle(G({},e,{center:[this.absolute(n),this.absolute(r,"height")],radius:this.absolute(this.radius)/2}))}},{key:"radius",get:function(){return this._radius},set:function(e){this._radius=e,this.recreate()}}],[{key:"RADIUS",get:function(){return 10}}]),e}()).prototype,ie="_radius",oe=[m.m],ae={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pe.RADIUS}},le={},Object.keys(ae).forEach((function(e){le[e]=ae[e]})),le.enumerable=!!le.enumerable,le.configurable=!!le.configurable,("value"in le||le.initializer)&&(le.writable=!0),void 0===(le=oe.slice().reverse().reduce((function(e,t){return t(re,ie,e)||e}),le)).initializer&&(Object.defineProperty(re,ie,le),le=null),H=le,V),ye=pe;function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(n,!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e,t,n){return(Oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=je(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Se,Pe=(ce=ke((ue=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ve(n=function(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?we(e):t}(this,(t=je(e)).call.apply(t,[this].concat(i))),"_width",ce,we(n)),ve(n,"_height",se,we(n)),ve(n,"_radius",fe,we(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(e,J),function(e,t,n){t&&ge(e.prototype,t),n&&ge(e,n)}(e,[{key:"toJSON",value:function(){return me({},Oe(je(e.prototype),"toJSON",this).call(this),{width:this.width,height:this.height,radius:this.radius})}},{key:"onCreate",value:function(e){var t=this.position,n=t.x,r=t.y,i=this.absolute(n),o=this.absolute(r,"height"),a=this.absolute(this.width),l=this.absolute(this.height);new v.a.Path.Rectangle(me({},e,{point:[i-a/2,o-l/2],size:[a,l],radius:this.radius/100*(Math.max(a,l)/2)}))}},{key:"width",get:function(){return this._width},set:function(e){this._width=e,this.recreate()}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this.recreate()}},{key:"radius",get:function(){return this._radius},set:function(e){this._radius=e,this.recreate()}}],[{key:"WIDTH",get:function(){return 10}},{key:"HEIGHT",get:function(){return 10}},{key:"RADIUS",get:function(){return 0}}]),e}()).prototype,"_width",[m.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pe.WIDTH}}),se=ke(ue.prototype,"_height",[m.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pe.HEIGHT}}),fe=ke(ue.prototype,"_radius",[m.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pe.RADIUS}}),ue),Ce=Pe;function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ae,Me=Object(b.a)(Se=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=function(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=xe(e)).call.apply(t,[this].concat(i)))).choose=function(e){e.preventDefault(),n.props.setTool(e.currentTarget.id)},n.addCircle=function(){var e=n.props.existing,t=new ye({key:"circle-".concat(Object.keys(e).length)});n.props.add(t)},n.addRectangle=function(){var e=n.props.existing,t=new Ce({key:"rect-".concat(Object.keys(e).length)});n.props.add(t)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(e,p.Component),function(e,t,n){t&&Te(e.prototype,t)}(e,[{key:"render",value:function(){var e=this.props.tool;return y.a.createElement("div",{style:{display:"flex",padding:"10px 10px 0px 10px"}},y.a.createElement("button",ze({type:"button",id:"SETTINGS",onClick:this.choose},"SETTINGS"===e?{primary:"true"}:{}),y.a.createElement("div",null,"*")),y.a.createElement("button",ze({type:"button",id:"SELECT",onClick:this.choose},"SELECT"===e?{primary:"true"}:{}),y.a.createElement("div",{style:{transform:"rotate(-135deg)"}},"➤")),y.a.createElement("button",{type:"button",onClick:this.addCircle},"+ Circle"),y.a.createElement("button",{type:"button",onClick:this.addRectangle},"+ Rectangle"))}}]),e}())||Se;function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Be,Ke=Object(b.a)(Ae=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=function(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=Le(e)).call.apply(t,[this].concat(i)))).state={localValue:0},n.onChange=function(e){n.setState({localValue:e.target.value})},n.onBlur=function(){var e=n.props,t=e.value,r=e.setValue,i=n.state.localValue,o=parseInt(i),a=t;Number.isInteger(o)&&(a=o),r(a),n.setState({localValue:a})},n.handleKeyDown=function(e){var t=e.key,r=e.shiftKey;"ArrowUp"===t&&r?n.incrementBy(10):"ArrowUp"===t?n.incrementBy(1):"ArrowDown"===t&&r?n.decrementBy(10):"ArrowDown"===t&&n.decrementBy(1)},n.changeBy=function(e){return function(t){var r=n.props,i=r.value,o=r.setValue,a=e(i,t);o(a),n.setState({localValue:a})}},n.incrementBy=n.changeBy((function(e,t){return e+t})),n.decrementBy=n.changeBy((function(e,t){return e-t})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(e,p.Component),function(e,t,n){t&&Re(e.prototype,t)}(e,[{key:"componentDidMount",value:function(){var e=this.props.value;e!==this.state.localValue&&this.setState({localValue:e})}},{key:"render",value:function(){var e=this.state.localValue;return y.a.createElement("input",{type:"text",style:{width:"60px",marginRight:"20px",textAlign:"center"},value:e,onChange:this.onChange,onKeyDown:this.handleKeyDown,onBlur:this.onBlur})}}]),e}())||Ae;function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){var t=e.children,n=e.open,r=e.handleClose,i=Object(p.useRef)(null);return!1===n?null:y.a.createElement("div",{style:Xe.container,onClick:function(e){i.current.contains(e.target)||r()}},y.a.createElement("div",{ref:i,style:Xe.body},y.a.createElement("div",{style:Xe.content},t)))}var qe,Je=Object(b.a)(Be=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=function(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=We(e)).call.apply(t,[this].concat(i)))).propertySetter=function(e){return function(t){var r=n.props,i=r.item,o=r.now;if(i.keyframes[e].length){var a=i.keyframes[e].find((function(e){return e.frame===o}));a?a.value=t:i.addKey("".concat(e),o,t)}else i[e]=t}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(e,p.Component),function(e,t,n){t&&Ue(e.prototype,t)}(e,[{key:"classControls",value:function(){var e=this.props.item,t=e.constructor.name;return"Circle"===t?y.a.createElement(y.a.Fragment,null,y.a.createElement("label",null,"Radius"),y.a.createElement("div",{style:{display:"flex"}},y.a.createElement(Ke,{value:e.radius,setValue:this.propertySetter("radius")}))):"Rectangle"===t?y.a.createElement(y.a.Fragment,null,y.a.createElement("label",null,"Size"),y.a.createElement("div",{style:{display:"flex"}},y.a.createElement(Ke,{value:e.width,setValue:this.propertySetter("width")}),y.a.createElement(Ke,{value:e.height,setValue:this.propertySetter("height")}))):void 0}},{key:"render",value:function(){var e=this.props.item;return void 0===e?y.a.createElement("h3",{style:{padding:"10px",color:"darkgray"}},"Select an Item on the Canvas."):y.a.createElement("div",{style:{padding:"10px"}},y.a.createElement("h4",null,e.key),y.a.createElement("label",null,"Position"),y.a.createElement("div",{style:{display:"flex"}},y.a.createElement(Ke,{value:e.x,setValue:this.propertySetter("x")}),y.a.createElement(Ke,{value:e.y,setValue:this.propertySetter("y")})),y.a.createElement("label",null,"Scale"),y.a.createElement("div",{style:{display:"flex"}},y.a.createElement(Ke,{value:e.scale,setValue:this.propertySetter("scale")})),y.a.createElement("label",null,"Rotation"),y.a.createElement("div",{style:{display:"flex"}},y.a.createElement(Ke,{value:e.rotation,setValue:this.propertySetter("rotation")})),this.classControls())}}]),e}())||Be,Xe={container:{position:"fixed",zIndex:100,left:0,top:0,width:"100%",height:"100%",overflow:"auto",backgroundColor:"rgba(0, 0, 0, 0.4)"},body:{backgroundColor:"#fefefe",margin:"15% auto",border:"1px solid #888",width:"80%"},content:{padding:"16px"}};function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $e,et=Object(b.a)(qe=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=function(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=Qe(e)).call.apply(t,[this].concat(i)))).setName=function(e){n.props.store.project.setName(e.target.value)},n.setLength=function(e){var t=n.props.store,r=parseInt(e.target.value);t.animation.setLength(r)},n.setColor=function(e){n.props.store.canvas.color=e.target.value},n.closeModal=function(){return n.props.store.canvas.setTool("SELECT")},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(e,p.Component),function(e,t,n){t&&Ge(e.prototype,t)}(e,[{key:"render",value:function(){var e=this.props.store;return y.a.createElement(He,{open:e.mode.settings,handleClose:this.closeModal},y.a.createElement("h3",null,"Project Settings"),y.a.createElement("label",null,"Project Name"),y.a.createElement("input",{type:"text",value:e.project.name,onChange:this.setName}),y.a.createElement("label",null,"Animation Length"),y.a.createElement("input",{type:"number",step:"1",value:e.animation.frames,onChange:this.setLength}),y.a.createElement("label",null,"Canvas Background"),y.a.createElement("select",{value:e.canvas.color,onChange:this.setColor},y.a.createElement("option",{value:"#000000"},"Black"),y.a.createElement("option",{value:"#ffffff"},"White")),y.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},y.a.createElement("button",{type:"button",onClick:this.closeModal},"Close")))}}]),e}())||qe,tt=n("aP9/"),nt=n("RYE5"),rt={Circle:ye,Rectangle:Ce};function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ft=Object(b.a)($e=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=function(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=ct(e)).call.apply(t,[this].concat(i)))).state={ready:!1},n.setup=function(){n.setState({ready:!0});var e=n.props.store,t=e.canvas,r=e.project;t.build(),r.inputItems&&!r.inputBuilt&&(Object.entries(r.inputItems).forEach((function(e){var r=lt(e,2),i=r[0],o=r[1],a=o.class,l=o.keyframes,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(o,["class","keyframes"]),c=new rt[a]({key:i});t.add(c);var s=Object.entries(l).reduce((function(e,t){var n=lt(t,2),r=n[0],i=n[1];return e[r]=i.map(M.fromJSON),e}),{});c.keyframes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(n,!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.keyframes,{},s),Object.entries(u).forEach((function(e){var t=lt(e,2),n=t[0],r=t[1];c[n]=r}))})),r.inputBuilt=!0)},n.add=function(e){n.props.store.canvas.add(e)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(e,p.Component),function(e,t,n){t&&ut(e.prototype,t)}(e,[{key:"componentDidMount",value:function(){var e=this.props.store.canvas,t=document.getElementById("build-container");setTimeout((function(){var n=Math.round(t.clientWidth)-20,r=Math.round(9/16*n);e.setSize(n,r)}),1),"SELECT"===e.tool&&setTimeout((function(){e.setTool(void 0),e.setTool("SELECT")}),20)}},{key:"componentWillUnmount",value:function(){var e=this.props.store,t=e.project;e.canvas.selectOff(),t.clear()}},{key:"render",value:function(){var e=this.props.store,t=e.canvas,n=e.animation,r=this.state.ready;return y.a.createElement(y.a.Fragment,null,y.a.createElement(et,{store:this.props.store}),y.a.createElement(tt.a,{gridTemplateRows:"auto 60px",gridTemplateColumns:"auto 340px"},y.a.createElement(nt.a,{gridArea:"1 / 1 / 1 / 2",id:"build-container",padding:"10px",alignSelf:"center"},y.a.createElement(h.a,{canvas:t,animation:n,setup:this.setup})),y.a.createElement(nt.a,{gridArea:"1 / 2 / 1 / 3",backgroundColor:"rgb(210, 210, 210)"},t&&y.a.createElement(Je,{item:t.selected,now:n.now})),y.a.createElement(nt.a,{gridArea:"2 / 1 / 2 / 3",backgroundColor:"rgb(180, 180, 180)"},r&&y.a.createElement(Me,{existing:t.animatables,add:this.add,tool:t.tool,setTool:t.setTool}))))}}]),e}())||$e;t.a=ft},pC6C:function(e,t,n){"use strict";var r,i=n("q1tI"),o=n.n(i),a=n("kMSe");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=Object(a.a)(r=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,c(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(e,i.Component),function(e,t,n){t&&u(e.prototype,t)}(e,[{key:"componentDidMount",value:function(){this.testForAvailability()}},{key:"componentDidUpdate",value:function(e){void 0===e.width&&this.testForAvailability()}},{key:"testForAvailability",value:function(){var e=this.props,t=e.width,n=e.hasSize;void 0!==t&&n()}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.width,r=e.height;return void 0===n?null:o.a.createElement("canvas",{style:{display:"block"},id:t,width:n,height:r})}}]),e}())||r;t.a=f},qZNB:function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),o=n("aP9/"),a=n("RYE5");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,c(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(e,r.Component),function(e,t,n){t&&u(e.prototype,t)}(e,[{key:"render",value:function(){var e=this.props.store.project;return i.a.createElement(o.a,{gridTemplateRows:"1fr 1fr 1fr",gridTemplateColumns:"auto",justifyItems:"center"},i.a.createElement(a.a,{alignSelf:"end"},i.a.createElement("button",{type:"button",onClick:e.save},"⇩ Save Project to File")),i.a.createElement(a.a,{alignSelf:"center"},i.a.createElement("label",{htmlFor:"file-button",style:{display:"block",width:"300px"}},"↪ Load Project from File"),i.a.createElement("input",{type:"file",id:"file-button",onChange:e.load,style:{width:"300px"}})),i.a.createElement(a.a,null,i.a.createElement("button",{type:"button",onClick:e.publish},"⤒ Publish Project to Gallery")))}}]),e}();t.a=f},v4a6:function(e,t,n){e.exports=n.p+"bare.min.css"},wpFA:function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),o=n("aP9/"),a=n("RYE5");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=s(this,(t=f(e)).call.apply(t,[this].concat(i)))).navigate=function(e){e.preventDefault(),n.props.mode.set(e.target.textContent.toUpperCase())},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(e,r.Component),function(e,t,n){t&&c(e.prototype,t)}(e,[{key:"render",value:function(){var e=this.props.mode.current;return i.a.createElement(o.a,{gridTemplateColumns:"1fr 1fr 1fr 1fr",borderBottom:"1px solid rgb(230, 230, 230)"},i.a.createElement(a.a,{display:"grid",alignItems:"center",justifyItems:"center"},i.a.createElement("button",u({type:"button",style:{margin:"0px"},onClick:this.navigate},"BUILD"===e?{primary:"true"}:{}),"Build")),i.a.createElement(a.a,{display:"grid",alignItems:"center",justifyItems:"center"},i.a.createElement("button",u({type:"button",style:{margin:"0px"},onClick:this.navigate},"ANIMATE"===e?{primary:"true"}:{}),"Animate")),i.a.createElement(a.a,{display:"grid",alignItems:"center",justifyItems:"center"},i.a.createElement("button",u({type:"button",style:{margin:"0px"},onClick:this.navigate},"VIEW"===e?{primary:"true"}:{}),"View")),i.a.createElement(a.a,{display:"grid",alignItems:"center",justifyItems:"center"},i.a.createElement("button",u({type:"button",style:{margin:"0px"},onClick:this.navigate},"EXPORT"===e?{primary:"true"}:{}),"Export")))}}]),e}();t.a=y},xp50:function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),o=n("2vnA"),a=n("kMSe"),l=n("AHVW"),u=n("pC6C"),c=n("IiLU"),s=n.n(c),f=n("Rgk+");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m,d=function(){function e(t,n,r,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.attatchTo=function(e){var t=document.getElementById(e);o.element=t,o.paper.setup(t)},this.handleBefore=function(){return o.absoluteHandlePosition(o.keyframeBefore.handleOut.position)},this.handleAfter=function(){return o.absoluteHandlePosition(o.keyframeAfter.handleIn.position)},this.trueWidth=t,this.keyframeBefore=n,this.keyframeAfter=r,this.onMove=i,this.paper=new s.a.PaperScope,this.element=void 0}return function(e,t,n){t&&h(e.prototype,t)}(e,[{key:"destroy",value:function(){this.paper.project&&(this.paper.project.clear(),this.paper.project.remove())}},{key:"init",value:function(){var e=this;this.padding=10,this.width=this.trueWidth-2*this.padding;var t=this.width,n=this.padding,r=[n,n],i=[t+n,n],o=[n,t+n],a=t/f.a.STEP,l=this.trueWidth/2;new this.paper.Path.Rectangle({topLeft:[0,0],bottomRight:[this.trueWidth,this.trueWidth],fillColor:"rgb(210, 210, 210)"});for(var u=new this.paper.SymbolDefinition(new this.paper.Path.Line({from:[0,0],to:[0,this.trueWidth],strokeColor:"rgb(180, 180, 180)",strokeWidth:2})),c=0;c<=f.a.STEP;c+=1){var s=n+0+a*c;u.place(new this.paper.Point(s,l)),u.place(new this.paper.Point(l,s)).rotate(90)}this.curve=new this.paper.Path.Line({strokeColor:"rgb(30, 155, 255)",strokeWidth:2,from:new this.paper.Point(o),to:new this.paper.Point(i)}),this.setVisualCurveHandles();var p={strokeColor:"rgb(30, 155, 255)",strokeWidth:2},b=new this.paper.Path.Line(y({},p,{from:o,to:this.handleBefore()})),h=new this.paper.Path.Line(y({},p,{from:this.handleAfter(),to:i})),m=new this.paper.SymbolDefinition(new this.paper.Path.Circle({point:r,radius:6,strokeColor:"rgb(30, 155, 255)",strokeWidth:2,fillColor:new this.paper.Color(1,.01)})),d=new this.paper.SymbolDefinition(new this.paper.Path.Rectangle({point:[100,100],size:[10,10],fillColor:"rgb(30, 155, 255)"}));d.place(o),d.place(i);var v=m.place(this.handleBefore()),g=m.place(this.handleAfter());v.onMouseEnter=function(){e.element.style.cursor="pointer"},v.onMouseLeave=function(){e.element.style.cursor="default"},v.onMouseDrag=function(t){e.element.style.cursor="pointer";var n=t.point.subtract(v.position),r=Math.abs(n.x)>=a/2,i=Math.abs(n.y)>=a/2;if(r||i){var o=Math.sign(n.x),l=Math.sign(n.y),u=v.position.add({x:o*a*r,y:l*a*i});v.position=u,b.lastSegment.point=u,e.onMove("OUT",{influence:o*f.a.STEP*r,distance:-1*l*f.a.STEP*i}),e.setVisualCurveHandles()}},v.onMouseUp=function(){e.element.style.cursor="default"},g.onMouseEnter=function(){e.element.style.cursor="pointer"},g.onMouseLeave=function(){e.element.style.cursor="default"},g.onMouseDrag=function(t){e.element.style.cursor="pointer";var n=t.point.subtract(g.position),r=Math.abs(n.x)>=a/2,i=Math.abs(n.y)>=a/2;if(r||i){var o=Math.sign(n.x),l=Math.sign(n.y),u=g.position.add({x:o*a*r,y:l*a*i});g.position=u,h.firstSegment.point=u,e.onMove("IN",{influence:-1*o*f.a.STEP*r,distance:l*f.a.STEP*i}),e.setVisualCurveHandles()}},g.onMouseUp=function(){e.element.style.cursor="default"}}},{key:"absoluteHandlePosition",value:function(e){return[e.x*this.width+this.padding,this.width-e.y*this.width+this.padding]}},{key:"setVisualCurveHandles",value:function(){this.curve&&(this.curve.firstSegment.handleOut=new this.paper.Point(this.keyframeBefore.handleOut.influence*this.width/f.a.MAX,-1*this.keyframeBefore.handleOut.distance*this.width/f.a.MAX),this.curve.lastSegment.handleIn=new this.paper.Point(-1*this.keyframeAfter.handleIn.influence*this.width/f.a.MAX,this.keyframeAfter.handleIn.distance*this.width/f.a.MAX))}}]),e}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j,E=Object(a.a)(m=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=function(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=w(e)).call.apply(t,[this].concat(i)))).state={},n.handleEditor=void 0,n.handleEditorHasSize=function(){n.buildHandleEditorCanvas()},n.buildHandleEditorCanvas=function(){var e=n.props,t=e.width,r=e.keyframeBefore,i=e.keyframeAfter,o=e.onMove;r&&i&&(n.handleEditor=new d(t,r,i,o),n.handleEditor.attatchTo("handle-editor"),n.handleEditor.init())},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(e,i.a.Component),function(e,t,n){t&&g(e.prototype,t)}(e,[{key:"componentDidUpdate",value:function(e){void 0!==e.keyframeKey&&e.keyframeKey!==this.props.keyframeKey&&(this.handleEditor&&this.handleEditor.destroy(),this.buildHandleEditorCanvas())}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.keyframeKey,r=e.keyframeBefore,o=e.keyframeAfter;return void 0===n?i.a.createElement("h3",{style:{padding:"10px",color:"darkgray"}},"Select a Keyframe on the Timeline."):r&&!o?i.a.createElement("h3",{style:{padding:"10px",color:"darkgray"}},i.a.createElement("i",null,"Selected tail Keyframe has no handle relationships.")):i.a.createElement("div",{style:{padding:"10px"}},i.a.createElement(u.a,{id:"handle-editor",width:t,height:t,hasSize:this.handleEditorHasSize}))}}]),e}())||m;function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z,T=Object(a.a)(j=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=function(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=C(e)).call.apply(t,[this].concat(i)))).state={previouslyClickedKeyframe:void 0},n.paper=new s.a.PaperScope,n.element=void 0,n.keyframeEditorHasSize=function(){n.buildKeyframeEditorCanvas()},n.handleKeyframeClick=function(e){e.stopPropagation();var t=e.currentTarget,r=n.props.onSelect,i=n.state.previouslyClickedKeyframe;i&&(i.strokeWidth=0,i.shadowColor.alpha=0),t.strokeWidth=1,t.shadowColor.alpha=.3,r(t.name),n.setState({previouslyClickedKeyframe:t})},n.handleKeyUp=function(e){var t=e.key,r=n.props,i=r.item,o=r.keyframeKey,a=r.keyframe,l=r.onSelect;if("Backspace"===t||"Delete"===t){e.preventDefault();var u=o.split(".")[1];l(void 0),i.removeKey(u,a.frame),n.rebuild()}},n.buildKeyframeEditorCanvas=function(){var e=n.props.item;n.element=document.getElementById("keyframe-editor"),n.paper.setup(n.element);var t=n.timelineMath(),r=t.verticalSpacing,i=t.timelineStart,o=t.timelineEnd,a=t.timelineStep,l=0,u=n.buildPlayhead().playheadLine,c=[];Object.entries(e.keyframes).forEach((function(t){var u=S(t,2),s=u[0],f=u[1],p=s,y=l*r+r;if("y"!==s){"x"===s&&(p="position"),new n.paper.PointText({point:[0,y],content:p,fillColor:"black",fontSize:14});var b=new n.paper.Path.Line({name:"timelineHover",from:[i+5,y-5],to:[o,y-5],strokeColor:"rgba(180, 180, 180, 1)",strokeWidth:40}),h=new n.paper.Path.Line({from:[i+5,y-5],to:[o,y-5],strokeColor:"lightgrey",strokeWidth:4}),m=new n.paper.Path.Rectangle({name:"newKeyframeRect",point:[0,y-10],size:[10,10],radius:3,fillColor:"rgba(31, 155, 255, 0.5)",rotation:45,visible:!1}),d=new n.paper.PointText({point:[0,y-8],content:"+",fillColor:"rgba(31, 155, 255, 0.5)",fontSize:14,visible:!1});c.push([b,m,d]);var v=function(e){m.visible=!0,d.visible=!0,m.position.x=e.point.x,d.position.x=e.point.x+10},g=function(){m.visible=!1,d.visible=!1},w=function(t){var r=Math.round((t.point.x-i)/a);e.addKey(s,r),n.rebuild()};b.onMouseMove=v,b.onMouseLeave=g,h.onMouseMove=v,h.onMouseLeave=g,m.onMouseMove=function(e){b.hitTest(e.point,{stroke:!0,segments:!1})?v(e):g()},b.onClick=w,h.onClick=w,m.onClick=w,f.forEach((function(t,r){var o=new n.paper.Path.Rectangle({name:"".concat(e.key,".").concat(s,".").concat(r),point:[i+t.frame*a-5,y-10],size:[10,10],radius:3,fillColor:"rgb(30, 155, 255)",rotation:45,strokeColor:"white",strokeWidth:0,shadowColor:"rgba(0, 0, 0, 0)",shadowBlur:5});o.on("mousedown",n.handleKeyframeClick),o.onMouseEnter=function(){n.element.style.cursor="pointer",g()},o.onMouseLeave=function(){n.element.style.cursor="default"}})),l+=1}})),u.onMouseMove=function(e){c.forEach((function(t){var n=S(t,3),r=n[0],i=n[1],o=n[2];r.hitTest(e.point)?(i.visible=!0,o.visible=!0,i.position.x=e.point.x,o.position.x=e.point.x+10):(i.visible=!1,o.visible=!1)}))},u.bringToFront()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(e,i.a.Component),function(e,t,n){t&&P(e.prototype,t)}(e,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentDidUpdate",value:function(e){void 0!==e.item&&void 0!==this.props.item&&e.item.key!==this.props.item.key&&this.rebuild(),e.now!==this.props.now&&this.buildPlayhead()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyUp)}},{key:"rebuild",value:function(){this.paper.project.clear(),this.paper.project.remove(),this.buildKeyframeEditorCanvas()}},{key:"buildPlayhead",value:function(){var e=this.props,t=e.size,n=e.now,r=this.timelineMath(),i=r.timelineStart,o=r.timelineStep;return{playheadLine:new this.paper.Path.Line({from:[i+n*o,10],to:[i+n*o,t.height-10],strokeColor:"white",strokeWidth:1}),playheadTriangle:new this.paper.Path.RegularPolygon({center:[i+n*o,10],sides:3,radius:6,rotation:180,fillColor:"white"})}}},{key:"timelineMath",value:function(){var e=this.props,t=e.size,n=e.frames,r=t.width-40,i=r-80;return{verticalSpacing:40,timelineStart:80,timelineEnd:r,timelineWidth:i,timelineStep:i/n}}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.item;return void 0===t||void 0===n?i.a.createElement("h3",{style:{padding:"10px",color:"grey"}},"Select an Item to view its Keyframes."):i.a.createElement("div",{style:{padding:"10px"}},i.a.createElement(u.a,{id:"keyframe-editor",width:t.width,height:t.height,hasSize:this.keyframeEditorHasSize}))}}]),e}())||j,x=n("aP9/"),I=n("RYE5");function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=Object(a.a)(z=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=function(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=R(e)).call.apply(t,[this].concat(i)))).state={heWidth:void 0,keSize:void 0,selectedItemKey:void 0},n.autorunDisposer=void 0,n.setup=function(){var e=n.props.store.canvas;e.build(),setTimeout((function(){e.setTool(void 0),e.setTool("SELECT")}),20)},n.changeHandlePosition=function(e,t){var r=t.influence,i=t.distance,o=n.props.store,a=o.tools,l=o.canvas;if(a.selectedKeyframe){var u=function(e){for(var t=e.toLowerCase().split(/[\s_]+/),n=0;n<t.length;n+=1)t[n]=t[n].charAt(0).toUpperCase()+t[n].substring(1);return t.join(" ")}(e),c=M(a.selectedKeyframe.split("."),3),s=c[0],f=c[1],p=c[2],y=parseInt(p);"IN"===e&&(y+=1);var b,h=l.animatables[s].keyframes[f][y]["handle".concat(u)];"x"===f&&(b=l.animatables[s].keyframes.y[y]["handle".concat(u)]),h.influence+=r,h.distance+=i,b&&(b.influence+=r,b.distance+=i)}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(e,r.Component),function(e,t,n){t&&D(e.prototype,t)}(e,[{key:"componentDidMount",value:function(){var e=this,t=this.props.store.canvas,n=document.getElementById("view-container");setTimeout((function(){var e=Math.round(n.clientWidth)-20,r=Math.round(9/16*e);t.setSize(e,r)}),1);var r=document.getElementById("handle-container");setTimeout((function(){var t=Math.round(r.clientWidth)-20,n=Math.round(r.clientHeight)-20,i=Math.min(t,n);e.setState({heWidth:i})}),1);var i=document.getElementById("keyframe-container");setTimeout((function(){var t=Math.round(i.clientWidth)-20,n=Math.round(i.clientHeight)-20;e.setState({keSize:{width:t,height:n}})}),1),this.autorunDisposer=Object(o.e)((function(){t.selected?e.setState({selectedItemKey:t.selected.key}):e.setState({selectedItemKey:void 0})}))}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.store.tools;t.selectedItemKey!==this.state.selectedItemKey&&n.selectKeyframe(void 0)}},{key:"componentWillUnmount",value:function(){var e=this.props.store,t=e.canvas,n=e.project,r=e.tools;t.selectOff(),n.clear(),r.selectKeyframe(void 0),this.autorunDisposer()}},{key:"render",value:function(){var e,t,n=this.props.store,r=n.canvas,o=n.animation,a=n.tools,u=this.state,c=u.heWidth,s=u.keSize;if(a.selectedKeyframe){var f=M(a.selectedKeyframe.split("."),3),p=f[0],y=f[1],b=f[2],h=parseInt(b),m=r.animatables[p].keyframes[y];e=m[h],h+1<m.length&&(t=m[h+1])}return i.a.createElement(x.a,{gridTemplateRows:"auto 340px",gridTemplateColumns:"auto 400px"},i.a.createElement(I.a,{id:"view-container",padding:"10px",gridArea:"1 / 1 / 1 / 2"},i.a.createElement(l.a,{canvas:r,animation:o,setup:this.setup})),i.a.createElement(I.a,{id:"handle-container",gridArea:"1 / 2 / 1 / 3",backgroundColor:"rgb(210, 210, 210)"},i.a.createElement(E,{width:c,keyframeKey:a.selectedKeyframe,keyframeBefore:e,keyframeAfter:t,onMove:this.changeHandlePosition})),i.a.createElement(I.a,{id:"keyframe-container",gridArea:"2 / 1 / 2 / 3",backgroundColor:"rgb(180, 180, 180)"},i.a.createElement(T,{size:s,item:r.selected,keyframeKey:a.selectedKeyframe,keyframe:e,onSelect:a.selectKeyframe,frames:o.frames,now:o.now})))}}]),e}())||z;t.a=F},"yQ/3":function(e,t,n){"use strict";var r,i=n("q1tI"),o=n.n(i),a=n("kMSe"),l=n("AHVW"),u=n("aP9/"),c=n("RYE5");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b,h=Object(a.a)(r=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=p(e)).call.apply(t,[this].concat(i)))).handleKeyDown=function(e){var t=n.props.animation,r=t.play,i=t.pause,o=t.goToNext,a=t.goToPrev,l=t.goToFirst,u=t.goToLast,c=t.playing,s=e.key,f=e.shiftKey;"ArrowLeft"===s&&f?l():"ArrowLeft"===s?a():"ArrowRight"===s&&f?u():"ArrowRight"===s?o():" "===s&&(e.stopPropagation(),e.preventDefault(),!0===c?i():r())},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(e,i.Component),function(e,t,n){t&&f(e.prototype,t)}(e,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"render",value:function(){var e=this.props.animation,t=e.play,n=e.pause,r=e.goToNext,i=e.goToPrev,a=e.goToFirst,l=e.goToLast,s=e.playing;return o.a.createElement(u.a,{gridTemplateColumns:"30% 1fr 1fr 1fr 1fr 1fr 30%",height:"60px",alignItems:"center",justifyItems:"center",borderTop:"1px solid rgb(230, 230, 230)"},o.a.createElement(c.a,{gridColumnStart:"2"},o.a.createElement("button",{type:"button",style:{margin:0},onClick:a},"⇤")),o.a.createElement(c.a,{gridColumnStart:"3"},o.a.createElement("button",{type:"button",style:{margin:0},onClick:i},"◃")),o.a.createElement(c.a,{gridColumnStart:"4"},!1===s?o.a.createElement("button",{type:"button",style:{margin:0},onClick:t},"►"):o.a.createElement("button",{type:"button",style:{margin:0},onClick:n},"❙ ❙")),o.a.createElement(c.a,{gridColumnStart:"5"},o.a.createElement("button",{type:"button",style:{margin:0},onClick:r},o.a.createElement("div",{style:{transform:"rotate(180deg)"}},"◃"))),o.a.createElement(c.a,{gridColumnStart:"6"},o.a.createElement("button",{type:"button",style:{margin:0},onClick:l},"⇥")))}}]),e}())||r;function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=Object(a.a)(b=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=function(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=v(e)).call.apply(t,[this].concat(i)))).setup=function(){n.props.store.canvas.build()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(e,i.Component),function(e,t,n){t&&d(e.prototype,t)}(e,[{key:"componentDidMount",value:function(){var e=this.props.store.canvas,t=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-20,n=Math.round(9/16*t);e.setSize(t,n)}},{key:"componentWillUnmount",value:function(){this.props.store.project.clear()}},{key:"render",value:function(){var e=this.props.store,t=e.canvas,n=e.animation;return o.a.createElement(u.a,{gridTemplateRows:"auto 60px",alignItems:"center"},o.a.createElement(c.a,{padding:"10px"},o.a.createElement(l.a,{canvas:t,animation:n,setup:this.setup})),o.a.createElement(h,{animation:n}))}}]),e}())||b;t.a=w},zGb5:function(e,t,n){var r={"./bare.min.css":"v4a6"};function i(e){var t=o(e);return n(t)}function o(e){if(n.o(r,e))return r[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}i.keys=function(){return Object.keys(r)},i.resolve=o,(e.exports=i).id="zGb5"}},[["6+jb",1,2]]]);
//# sourceMappingURL=app.55d2abac.js.map