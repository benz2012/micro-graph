(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+PZ/":function(e,t,r){"use strict";var n,o,i,a,l,c,s,u,p,f,y,d,b,h=r("2vnA");function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(r,!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return r}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _applyDecoratedDescriptor(r,n,e,t,o){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i}var m=(o=_applyDecoratedDescriptor((n=function(){function Canvas(e){var r=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Canvas),_initializerDefineProperty(this,"width",o,this),_initializerDefineProperty(this,"height",i,this),_initializerDefineProperty(this,"_color",a,this),_initializerDefineProperty(this,"background",l,this),_initializerDefineProperty(this,"animatables",c,this),_initializerDefineProperty(this,"tool",s,this),_initializerDefineProperty(this,"selected",u,this),this.attatchAndSetup=function(e){var t=document.getElementById(e);r.paper.setup(t),r.paper.view.autoUpdate=!1,r.background=new r.paper.Path.Rectangle({topLeft:[0,0],bottomRight:[r.paper.view.element.width,r.paper.view.element.height],fillColor:r.color}),r.draw(r.rootStore.animation.firstFrame)},_initializerDefineProperty(this,"add",p,this),_initializerDefineProperty(this,"remove",f,this),_initializerDefineProperty(this,"setTool",y,this),_initializerDefineProperty(this,"select",d,this),_initializerDefineProperty(this,"deselect",b,this),this.addListenersAndSelect=function(e){e.item.on("mousedown",r.handleItemMouseDown),r.select(e.item)},this.handleItemMouseDown=function(e){e.stopPropagation(),r.select(e.currentTarget)},this.handleViewMouseDown=function(e){e.stopPropagation(),r.deselect()},this.forEachAnimatable=function(e){return Object.values(r.animatables).forEach(e)},this.build=function(){r.forEachAnimatable(function(e){e.create(r)}),r.draw()},this.draw=function(e){var t=e||r.rootStore.animation.now;r.forEachAnimatable(function(e){e.draw(t)}),r.paper.view&&r.paper.view.update()},this.selectOn=function(){r.forEachAnimatable(function(e){e.item.on("mousedown",r.handleItemMouseDown)}),r.paper.view.on("mousedown",r.handleViewMouseDown)},this.selectOff=function(){r.forEachAnimatable(function(e){e.item.off("mousedown",r.handleItemMouseDown)}),r.paper.view.off("mousedown",r.handleViewMouseDown),r.deselect()},this.rootStore=e,this.paper=e.paper,this.initialize()}return function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Canvas,[{key:"initialize",value:function initialize(){var e,t;void 0!==this.width&&(e=this.width,t=this.height),this.width=void 0,this.height=void 0,this._color="#000000",this.animatables={},this.tool=void 0,(this.selected=void 0)!==e&&this.setSize(e,t)}},{key:"toJSON",value:function toJSON(){return{color:this.color,animatables:Object.entries(this.animatables).reduce(function(e,t){var r=_slicedToArray(t,2),n=r[0],o=r[1];return e[n]=o.toJSON(),e},{})}}},{key:"setSize",value:function setSize(e,t){var r=this,n=Object(h.d)(function(){r.height=t,r.width=e});setTimeout(n,1)}},{key:"color",get:function get(){return this._color},set:function set(e){this._color=e,this.background.fillColor=e}}]),Canvas}()).prototype,"width",[h.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=_applyDecoratedDescriptor(n.prototype,"height",[h.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=_applyDecoratedDescriptor(n.prototype,"_color",[h.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=_applyDecoratedDescriptor(n.prototype,"background",[h.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=_applyDecoratedDescriptor(n.prototype,"animatables",[h.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=_applyDecoratedDescriptor(n.prototype,"tool",[h.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=_applyDecoratedDescriptor(n.prototype,"selected",[h.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=_applyDecoratedDescriptor(n.prototype,"add",[h.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var t=this;return function(e){e.create(t),t.animatables=_objectSpread({},t.animatables,_defineProperty({},e.key,e)),"SELECT"===t.tool&&t.addListenersAndSelect(e),t.draw()}}}),f=_applyDecoratedDescriptor(n.prototype,"remove",[h.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var r=this;return function(e){e.item.off("mousedown",r.handleItemMouseDown),e.item.remove();var t=_objectSpread({},r.animatables);delete t[e.key],r.animatables=t,r.draw()}}}),y=_applyDecoratedDescriptor(n.prototype,"setTool",[h.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var e=this;return function(t){function Xa(e){return r!==e&&t===e}function Ya(e){return r===e&&t!==e}var r=e.tool;Xa("SELECT")&&e.selectOn(),Ya("SELECT")&&e.selectOff(),Xa("SETTINGS")&&(e.rootStore.mode.settings=!0),Ya("SETTINGS")&&(e.rootStore.mode.settings=!1),Xa("CLEAR")&&(e.rootStore.mode.clear=!0),Ya("CLEAR")&&(e.rootStore.mode.clear=!1),e.tool=t}}}),d=_applyDecoratedDescriptor(n.prototype,"select",[h.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var t=this;return function(e){t.deselect(),e.selected=!0,t.selected=t.animatables[e.name],t.paper.view.update()}}}),b=_applyDecoratedDescriptor(n.prototype,"deselect",[h.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var e=this;return function(){e.selected&&(e.selected.item.selected=!1,e.selected=void 0),e.paper.view.update()}}}),n);t.a=m},0:function(e,t){},1:function(e,t){},"2rxA":function(e,t,r){"use strict";var n,i,a,l,o=r("2vnA"),c=r("vYMq");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(r,!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _applyDecoratedDescriptor(r,n,e,t,o){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i}var s=(i=_applyDecoratedDescriptor((n=function(){function Rectangle(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Rectangle);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return _initializerDefineProperty(t=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,(e=_getPrototypeOf(Rectangle)).call.apply(e,[this].concat(n))),"_width",i,_assertThisInitialized(t)),_initializerDefineProperty(t,"_height",a,_assertThisInitialized(t)),_initializerDefineProperty(t,"_radius",l,_assertThisInitialized(t)),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Rectangle,c["a"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Rectangle,[{key:"toJSON",value:function toJSON(){return _objectSpread({},_get(_getPrototypeOf(Rectangle.prototype),"toJSON",this).call(this),{width:this.width,height:this.height,radius:this.radius})}},{key:"onCreate",value:function onCreate(e){var t=this.position,r=t.x,n=t.y,o=this.absolute(r),i=this.absolute(n,"height"),a=this.absolute(this.width),l=this.absolute(this.height);new this.paper.Path.Rectangle(_objectSpread({},e,{point:[o-a/2,i-l/2],size:[a,l],radius:this.radius/100*(Math.max(a,l)/2)}))}},{key:"width",get:function get(){return this._width},set:function set(e){this._width=e,this.recreate()}},{key:"height",get:function get(){return this._height},set:function set(e){this._height=e,this.recreate()}},{key:"radius",get:function get(){return this._radius},set:function set(e){this._radius=e,this.recreate()}}],[{key:"WIDTH",get:function get(){return 10}},{key:"HEIGHT",get:function get(){return 10}},{key:"RADIUS",get:function get(){return 0}}]),Rectangle}()).prototype,"_width",[o.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return s.WIDTH}}),a=_applyDecoratedDescriptor(n.prototype,"_height",[o.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return s.HEIGHT}}),l=_applyDecoratedDescriptor(n.prototype,"_radius",[o.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return s.RADIUS}}),n);t.a=s},"6+jb":function(e,t,r){"use strict";r.r(t);var n,o,i,a,l,c=r("q1tI"),s=r.n(c),u=r("i8i4"),p=r.n(u),f=r("7QyF"),y=r("2vnA"),d=r("IiLU"),b=r.n(d),h=r("D4s2"),m=r("+PZ/"),v=r("aIrq");function _initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _applyDecoratedDescriptor(r,n,e,t,o){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i}var _,g,O,P=(o=_applyDecoratedDescriptor((n=function(){function Mode(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Mode),_initializerDefineProperty(this,"current",o,this),_initializerDefineProperty(this,"settings",i,this),_initializerDefineProperty(this,"clear",a,this),_initializerDefineProperty(this,"set",l,this),this.initialize()}return function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Mode,[{key:"initialize",value:function initialize(){this.current="BUILD",this.settings=!1,this.clear=!1}}]),Mode}()).prototype,"current",[y.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=_applyDecoratedDescriptor(n.prototype,"settings",[y.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=_applyDecoratedDescriptor(n.prototype,"clear",[y.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=_applyDecoratedDescriptor(n.prototype,"set",[y.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var t=this;return function(e){t.current=e}}}),n);function ToolsStore_initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ToolsStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToolsStore_applyDecoratedDescriptor(r,n,e,t,o){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i}var w,j,E=(g=ToolsStore_applyDecoratedDescriptor((_=function(){function Tools(){!function ToolsStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Tools),ToolsStore_initializerDefineProperty(this,"selectedKeyframe",g,this),ToolsStore_initializerDefineProperty(this,"selectKeyframe",O,this),this.initialize()}return function ToolsStore_createClass(e,t,r){return t&&ToolsStore_defineProperties(e.prototype,t),r&&ToolsStore_defineProperties(e,r),e}(Tools,[{key:"initialize",value:function initialize(){this.selectedKeyframe=void 0}}]),Tools}()).prototype,"selectedKeyframe",[y.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=ToolsStore_applyDecoratedDescriptor(_.prototype,"selectKeyframe",[y.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var t=this;return function(e){t.selectedKeyframe=e}}}),_),S=r("Wcq6");r("Zs65");function xd(r){return r.constructor.OBSERVABLES.map(function(e){if("keyframes"===e)return Object.keys(r.keyframes).map(function(e){return r.keyframes[e].map(xd)});var t=r[e];return t.constructor.OBSERVABLES?xd(t):t})}var C,k,D,z,T,I,A,x=(j=function GalleryStore_applyDecoratedDescriptor(r,n,e,t,o){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i}((w=function Gallery(){!function GalleryStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Gallery),function GalleryStore_initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(this,"clipsRef",j,this),S.initializeApp({apiKey:"AIzaSyCdglP4EAub1kYXJrXag3vaNIxxQgEZTQk",authDomain:"micro-graph.firebaseapp.com",databaseURL:"https://micro-graph.firebaseio.com",projectId:"micro-graph",storageBucket:"micro-graph.appspot.com",messagingSenderId:"662102370030",appId:"1:662102370030:web:46cfe6a252ed6cc47b75ff"}),this.clipsRef=S.database().ref("clips")}).prototype,"clipsRef",[y.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w);function store_initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function store_applyDecoratedDescriptor(r,n,e,t,o){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i}var M=(k=store_applyDecoratedDescriptor((C=function RootStore(){var t=this;!function store_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RootStore),store_initializerDefineProperty(this,"project",k,this),store_initializerDefineProperty(this,"canvas",D,this),store_initializerDefineProperty(this,"animation",z,this),store_initializerDefineProperty(this,"mode",T,this),store_initializerDefineProperty(this,"tools",I,this),store_initializerDefineProperty(this,"gallery",A,this),this.reset=function(){t.project.initialize(),t.canvas.initialize(),t.animation.initialize(),t.mode.initialize(),t.tools.initialize()},this.paper=new b.a.PaperScope,this.project=new h.a(this),this.canvas=new m.a(this),this.animation=new v.a,this.mode=new P,this.tools=new E,this.gallery=new x;var e=window.location.pathname.split("/");if(function storageEnabled(){try{localStorage.setItem("_test","test")}catch(e){return!1}return!0}()&&1<e.length&&"gallery"!==e[1]){var r=localStorage.getItem("micrograph.project");r&&setTimeout(function(){t.project.load(r)},100),Object(y.e)(function(){var e=t.project.save();localStorage.setItem("micrograph.project",e)},{delay:300})}Object(y.n)(function(){return[t.animation.now,t.canvas.color,Object.values(t.canvas.animatables).map(xd)]},function(){return t.canvas.draw()})}).prototype,"project",[y.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=store_applyDecoratedDescriptor(C.prototype,"canvas",[y.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=store_applyDecoratedDescriptor(C.prototype,"animation",[y.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=store_applyDecoratedDescriptor(C.prototype,"mode",[y.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=store_applyDecoratedDescriptor(C.prototype,"tools",[y.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=store_applyDecoratedDescriptor(C.prototype,"gallery",[y.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C),R=(r("cYxY"),new M),K=document.getElementById("app");p.a.render(s.a.createElement(f.a,{store:R}),K)},"7QyF":function(e,d,b){"use strict";(function(e){var t,r=b("q1tI"),n=b.n(r),o=b("0cfB"),i=b("kMSe"),a=b("wpFA"),l=b("jzcZ"),c=b("xp50"),s=b("yQ/3"),u=b("qZNB"),p=b("K7op"),f=b("aP9/");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var y=Object(i.a)(t=function(){function App(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,App),_possibleConstructorReturn(this,_getPrototypeOf(App).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(App,r["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(App,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var e=this.props.store,t=window.location.pathname.split("/");return 1<t.length&&"gallery"===t[1]?n.a.createElement(p.a,{clipsRef:e.gallery.clipsRef}):n.a.createElement(f.a,{minHeight:"100vh",gridTemplateRows:"60px 1fr"},n.a.createElement(a.a,{mode:e.mode}),"BUILD"===e.mode.current&&n.a.createElement(l.a,{store:e}),"ANIMATE"===e.mode.current&&n.a.createElement(c.a,{store:e}),"VIEW"===e.mode.current&&n.a.createElement(s.a,{store:e}),"EXPORT"===e.mode.current&&n.a.createElement(u.a,{store:e}))}}]),App}())||t;d.a=Object(o.hot)(e)(y)}).call(this,b("3UD+")(e))},AHVW:function(e,t,r){"use strict";var n=r("q1tI"),d=r.n(n),o=r("kMSe"),i=r("aIrq"),a=r("pC6C");function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(r,!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jg(e){var t=e.fullWidth,r=e.totalFrames,n=e.inPoint,o=e.outPoint,i=e.now,a=e.ABSOLUTE_FIRST,l=t||0,c=l/r,s=1<r?c:0,u=parseInt((n-a)*c),p=parseInt((r-o)*c),f=parseInt(i*c-u);1===r?f=c:i===n?f=0:i===o&&(f=l-u-p-s);var y=i===o?0:l-u-p-f-s;return d.a.createElement("div",{style:{display:"flex"}},d.a.createElement("div",{style:_objectSpread({},b,{width:u,backgroundColor:"rgb(150, 160, 170)"})}),d.a.createElement("div",{style:_objectSpread({},b,{width:f,backgroundColor:"rgb(220, 225, 240)"})}),d.a.createElement("div",{style:_objectSpread({},b,{width:s,height:"20px",marginTop:"5px",backgroundColor:"rgb(30, 155, 255)"})}),d.a.createElement("div",{style:_objectSpread({},b,{width:y,backgroundColor:"rgb(220, 225, 240)"})}),d.a.createElement("div",{style:_objectSpread({},b,{width:p,backgroundColor:"rgb(150, 160, 170)"})}))}var l,b={height:"10px",margin:"10px 0px"};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var c=Object(o.a)(l=function(){function Viewer(){var e,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Viewer);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=_possibleConstructorReturn(this,(e=_getPrototypeOf(Viewer)).call.apply(e,[this].concat(r)))).canvasHasSize=function(){var e=n.props,t=e.canvas,r=e.onSetup;t.attatchAndSetup("paper-canvas"),r()},n}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Viewer,n["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Viewer,[{key:"render",value:function render(){var e=this.props,t=e.canvas,r=e.animation;return d.a.createElement(d.a.Fragment,null,d.a.createElement(a.a,{id:"paper-canvas",width:t.width,height:t.height,hasSize:this.canvasHasSize}),d.a.createElement(Jg,{fullWidth:t.width,totalFrames:r.frames,inPoint:r.firstFrame,outPoint:r.lastFrame,now:r.now,ABSOLUTE_FIRST:i.a.FIRST}))}}]),Viewer}())||l;t.a=c},D4s2:function(e,t,r){"use strict";function ai(e,t){return function download(e,t,r){var n=new Blob([e],{type:r});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,t);else{var o=document.createElement("a"),i=window.URL.createObjectURL(n);o.href=i,o.download=t,document.body.appendChild(o),o.click(),setTimeout(function(){document.body.removeChild(o),window.URL.revokeObjectURL(i)})}}(e,"".concat(t,".json"),"text/json")}var n,o,i,a,l=r("2vnA"),s=r("aIrq");function _initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _applyDecoratedDescriptor(r,n,e,t,o){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i}var c=(o=_applyDecoratedDescriptor((n=function(){function Project(e){var c=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Project),_initializerDefineProperty(this,"name",o,this),_initializerDefineProperty(this,"inputItems",i,this),_initializerDefineProperty(this,"inputBuilt",a,this),this.clear=function(){c.paper.project.clear(),c.paper.project.remove();var e=c.rootStore,t=e.canvas,r=e.animation;t.setSize(void 0,void 0),r.setIn(s.a.FIRST),r.setOut(r.frames)},this.load=function(e,t,r){var n=c.rootStore,o=n.canvas,i=n.animation,a=JSON.parse(e),l=t||a.project.name;c.setName(l.replace(/\.[^/.]+$/,"")),Object.keys(a.animation).forEach(function(e){i[e]=a.animation[e]}),Object.keys(a.canvas).forEach(function(e){"animatables"===e?c.inputItems=a.canvas.animatables:o[e]=a.canvas[e]}),r&&r()},this.loadFromFile=function(e,t){var r=e.target.files[0],n=new FileReader;n.onload=function(){return c.load(n.result,r.name,t)},c.rootStore.reset(),n.readAsText(r)},this.save=function(){var e=c.rootStore,t=e.canvas,r=e.animation;return JSON.stringify({project:c.toJSON(),animation:r.toJSON(),canvas:t.toJSON()})},this.download=function(e){ai(e,c.name)},this.publish=function(){var e=c.save();c.rootStore.gallery.clipsRef.push().set(e)},this.rootStore=e,this.paper=e.paper,this.initialize()}return function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Project,[{key:"initialize",value:function initialize(){this.paper.project&&(this.paper.project.clear(),this.paper.project.remove()),this.name="My Animation",this.inputItems=void 0,this.inputBuilt=!1}},{key:"toJSON",value:function toJSON(){return{name:this.name}}},{key:"setName",value:function setName(e){this.name=e}}]),Project}()).prototype,"name",[l.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=_applyDecoratedDescriptor(n.prototype,"inputItems",[l.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=_applyDecoratedDescriptor(n.prototype,"inputBuilt",[l.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(n.prototype,"setName",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"setName"),n.prototype),n);t.a=c},IcpA:function(e,t,r){"use strict";var n,i,o=r("2vnA"),a=r("vYMq");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(r,!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var l=(i=function _applyDecoratedDescriptor(r,n,e,t,o){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i}((n=function(){function Circle(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Circle);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return function _initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(t=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,(e=_getPrototypeOf(Circle)).call.apply(e,[this].concat(n))),"_radius",i,_assertThisInitialized(t)),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Circle,a["a"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Circle,[{key:"toJSON",value:function toJSON(){return _objectSpread({},_get(_getPrototypeOf(Circle.prototype),"toJSON",this).call(this),{radius:this.radius})}},{key:"onCreate",value:function onCreate(e){var t=this.position,r=t.x,n=t.y;new this.paper.Path.Circle(_objectSpread({},e,{center:[this.absolute(r),this.absolute(n,"height")],radius:this.absolute(this.radius)/2}))}},{key:"radius",get:function get(){return this._radius},set:function set(e){this._radius=e,this.recreate()}}],[{key:"RADIUS",get:function get(){return 10}}]),Circle}()).prototype,"_radius",[o.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return l.RADIUS}}),n);t.a=l},K7op:function(e,t,r){"use strict";var n,o=r("q1tI"),i=r.n(o),c=r("2vnA"),a=r("kMSe"),l=r("IiLU"),s=r.n(l),u=r("pC6C"),p=r("D4s2"),f=r("+PZ/"),y=r("aIrq"),d=r("mDzE"),b=r("Vo52"),h=r("T/Ia");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,o=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return r}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var m=Object(a.a)(n=function(){function Gallery(){var e,u;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Gallery);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(u=_possibleConstructorReturn(this,(e=_getPrototypeOf(Gallery)).call.apply(e,[this].concat(r)))).state={clips:[],width:void 0,height:void 0},u.canvasHasSize=function(e,t,r){return function(){t.canvas.attatchAndSetup("paper-canvas-".concat(e)),t.canvas.build(),t.project.load(r),u.buildAnimatables(t),t.animation.play()}},u.buildAnimatables=function(s){Object.entries(s.project.inputItems).forEach(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1],o=n.class,i=n.keyframes,a=_objectWithoutProperties(n,["class","keyframes"]),l=new b.a[o](r);s.canvas.add(l);var c=Object.entries(i).reduce(function(e,t){var r=_slicedToArray(t,2),n=r[0],o=r[1];return e[n]=o.map(d.a.fromJSON),e},{});l.keyframes=function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(r,!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},u.keyframes,{},c),Object.entries(a).forEach(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];l[r]=n})}),s.canvas.deselect(),s.canvas.draw()},u}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Gallery,o["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Gallery,[{key:"componentDidMount",value:function componentDidMount(){var t=this,e=document.getElementById("playback-container"),r=Math.round(e.clientWidth)-20,n=Math.round(9/16*r);this.setState({width:r,height:n}),this.props.clipsRef.on("child_added",function(e){var r={key:"".concat(Object(h.a)(e.val())),json:e.val(),clip:function playable(){var e={};return e.paper=new s.a.PaperScope,e.project=new p.a(e),e.canvas=new f.a(e),e.animation=new y.a,e}()};t.setState(function(e){var t=e.clips[0];return t?{clips:[t,r].concat(_toConsumableArray(e.clips.slice(1)))}:{clips:[r]}})})}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){var r=this.state,n=r.width,o=r.height,i=r.clips,a=t.clips.length;if(i.length>a){var l=0===a?0:1;i[l].clip.canvas.setSize(n,o),Object(c.n)(function(){return[i[l].clip.animation.now]},function(){return i[l].clip.canvas.draw()})}}},{key:"render",value:function render(){var o=this,e=this.state.clips;return i.a.createElement("div",null,i.a.createElement("div",{style:{width:"100%",padding:"10px",position:"fixed",backgroundColor:"white",zIndex:"100"}},i.a.createElement("h1",{style:{marginBottom:"0px"}},"Welcome to the Gallery"),i.a.createElement("small",null,e.length," Published Animations, scroll to see them!")),i.a.createElement("div",{id:"playback-container",style:{width:"100%",padding:"0px 10px",paddingTop:"100px"}},0===e.length?i.a.createElement("p",null,"Loading Clips..."):e.map(function(e){var t=e.clip,r=e.key,n=e.json;return i.a.createElement("div",{key:r,style:{padding:"10px 0px"}},i.a.createElement("h4",{style:{marginBottom:"4px"}},t.project.name),i.a.createElement(u.a,{id:"paper-canvas-".concat(r),width:t.canvas.width,height:t.canvas.height,hasSize:o.canvasHasSize(r,t,n)}))})))}}]),Gallery}())||n;t.a=m},RYE5:function(e,t,r){"use strict";var n=r("q1tI"),o=r.n(n);function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,o=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.a=function GridItem(e){var t=e.id,r=e.children,n=_objectWithoutProperties(e,["id","children"]);return o.a.createElement("div",{id:t,style:n},r)}},"Rgk+":function(e,t,r){"use strict";var n,o,i,a=r("2vnA");function _initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _applyDecoratedDescriptor(r,n,e,t,o){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i}var l=(o=_applyDecoratedDescriptor((n=function(){function Handle(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Handle),_initializerDefineProperty(this,"_influence",o,this),_initializerDefineProperty(this,"_distance",i,this),this.type=e,this.influence=50,this.distance=0}return _createClass(Handle,null,[{key:"MAX",get:function get(){return 100}},{key:"STEP",get:function get(){return 10}},{key:"OBSERVABLES",get:function get(){return["influence","distance"]}}]),_createClass(Handle,[{key:"toJSON",value:function toJSON(){return{type:this.type,influence:this.influence,distance:this.distance}}},{key:"influence",get:function get(){return this._influence},set:function set(e){this._influence=e}},{key:"distance",get:function get(){return this._distance},set:function set(e){this._distance=e}},{key:"position",get:function get(){var e=this.influence,t=this.distance;return"IN"===this.type&&(e=Handle.MAX-this.influence,t=Handle.MAX-this.distance),{x:e/=Handle.MAX,y:t/=Handle.MAX}},set:function set(e){var t=e.x,r=(e.y,t*Handle.MAX),n=t*Handle.MAX;"IN"===this.type?(this.influence=Handle.MAX-r,this.distance=Handle.MAX-n):(this.influence=r,this.distance=n)}}]),Handle}()).prototype,"_influence",[a.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=_applyDecoratedDescriptor(n.prototype,"_distance",[a.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n);t.a=l},"T/Ia":function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return o});var n=function titleCase(e){for(var t=e.toLowerCase().split(/[\s_]+/),r=0;r<t.length;r+=1)t[r]=t[r].charAt(0).toUpperCase()+t[r].substring(1);return t.join(" ")},o=function simpleHash(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r+=1){t=(t<<5)-t+e.charCodeAt(r),t&=t}return t}},Vo52:function(e,t,r){"use strict";var n=r("IcpA"),o=r("2rxA"),i={Circle:n.a,Rectangle:o.a};t.a=i},aIrq:function(e,t,r){"use strict";var n,o,i,a,l,c,s,u,p,f,y,d,b,h,m,v,_,g,O,P,w=r("2vnA");function _initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _applyDecoratedDescriptor(r,n,e,t,o){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i}var j=(o=_applyDecoratedDescriptor((n=function(){function Animation(){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Animation),_initializerDefineProperty(this,"frames",o,this),_initializerDefineProperty(this,"firstFrame",i,this),_initializerDefineProperty(this,"lastFrame",a,this),_initializerDefineProperty(this,"fps",l,this),_initializerDefineProperty(this,"now",c,this),_initializerDefineProperty(this,"playing",s,this),_initializerDefineProperty(this,"sync",u,this),_initializerDefineProperty(this,"requestId",p,this),_initializerDefineProperty(this,"mode",f,this),_initializerDefineProperty(this,"setIn",y,this),_initializerDefineProperty(this,"setOut",d,this),this.nextFrame=function(){var e=t.now+1;return e>t.lastFrame?"LOOP"===t.mode?t.firstFrame:null:e},this.prevFrame=function(){var e=t.now-1;return e<t.firstFrame?"LOOP"===t.mode?t.lastFrame:null:e},_initializerDefineProperty(this,"play",b,this),_initializerDefineProperty(this,"pause",h,this),_initializerDefineProperty(this,"goToFrame",m,this),_initializerDefineProperty(this,"goToFirst",v,this),_initializerDefineProperty(this,"goToLast",_,this),_initializerDefineProperty(this,"goToNext",g,this),_initializerDefineProperty(this,"goToPrev",O,this),_initializerDefineProperty(this,"animateAtRate",P,this),this.initialize()}return _createClass(Animation,null,[{key:"FIRST",get:function get(){return 1}},{key:"PLAYBACK_MODES",get:function get(){return["LOOP","ONCE"]}}]),_createClass(Animation,[{key:"initialize",value:function initialize(){this.frames=100,this.firstFrame=Animation.FIRST,this.lastFrame=100,this.fps=30,this.now=this.firstFrame,this.playing=!1,this.sync=0,this.requestId=null,this.mode="LOOP"}},{key:"toJSON",value:function toJSON(){return{frames:this.frames,firstFrame:this.firstFrame,lastFrame:this.lastFrame,fps:this.fps,mode:this.mode}}},{key:"setLength",value:function setLength(e){(this.frames=e)<this.lastFrame&&(this.lastFrame=e)}}]),Animation}()).prototype,"frames",[w.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=_applyDecoratedDescriptor(n.prototype,"firstFrame",[w.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=_applyDecoratedDescriptor(n.prototype,"lastFrame",[w.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=_applyDecoratedDescriptor(n.prototype,"fps",[w.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=_applyDecoratedDescriptor(n.prototype,"now",[w.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=_applyDecoratedDescriptor(n.prototype,"playing",[w.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=_applyDecoratedDescriptor(n.prototype,"sync",[w.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=_applyDecoratedDescriptor(n.prototype,"requestId",[w.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_applyDecoratedDescriptor(n.prototype,"mode",[w.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(n.prototype,"setLength",[w.d],Object.getOwnPropertyDescriptor(n.prototype,"setLength"),n.prototype),y=_applyDecoratedDescriptor(n.prototype,"setIn",[w.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var t=this;return function(e){e<j.FIRST||e>t.frames||(t.firstFrame=e,t.now<e&&t.goToFrame(e))}}}),d=_applyDecoratedDescriptor(n.prototype,"setOut",[w.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var t=this;return function(e){e<j.FIRST||e>t.frames||(t.lastFrame=e,t.now>e&&t.goToFrame(e))}}}),b=_applyDecoratedDescriptor(n.prototype,"play",[w.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var t=this;return function(){null!==t.nextFrame()&&(t.playing=!0,t.animateAtRate(function(){var e=t.nextFrame();if(null===e)return t.pause();t.now=e}))}}}),h=_applyDecoratedDescriptor(n.prototype,"pause",[w.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var e=this;return function(){e.playing=!1,e.requestId&&cancelAnimationFrame(e.requestId)}}}),m=_applyDecoratedDescriptor(n.prototype,"goToFrame",[w.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var t=this;return function(e){t.now=e}}}),v=_applyDecoratedDescriptor(n.prototype,"goToFirst",[w.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var e=this;return function(){e.goToFrame(e.firstFrame)}}}),_=_applyDecoratedDescriptor(n.prototype,"goToLast",[w.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var e=this;return function(){e.goToFrame(e.lastFrame)}}}),g=_applyDecoratedDescriptor(n.prototype,"goToNext",[w.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var t=this;return function(){var e=t.nextFrame();null!==e&&t.goToFrame(e)}}}),O=_applyDecoratedDescriptor(n.prototype,"goToPrev",[w.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var t=this;return function(){var e=t.prevFrame();null!==e&&t.goToFrame(e)}}}),P=_applyDecoratedDescriptor(n.prototype,"animateAtRate",[w.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var i=this;return function(r){var n=1e3/i.fps,o=Date.now();!function loop(){if(!1!==i.playing){i.requestId=requestAnimationFrame(loop);var e=Date.now(),t=e-o;n<=t&&(o=e-t%n,i.sync=Math.round(t-n-t%n),r())}}()}}}),n);t.a=j},"aP9/":function(e,t,r){"use strict";var n=r("q1tI"),o=r.n(n);function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,o=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.a=function Grid(e){var t=e.children,r=_objectWithoutProperties(e,["children"]);return o.a.createElement("div",{style:function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(r,!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({display:"grid"},r)},t)}},cYxY:function(e,t,r){var n=r("zGb5");n.keys().forEach(n)},jzcZ:function(e,t,r){"use strict";var n,i=r("q1tI"),a=r.n(i),o=r("kMSe"),l=r("2vnA"),c=r("AHVW"),s=r("IcpA"),u=r("2rxA");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var p,f=Object(o.a)(n=function(){function ToolController(){var e,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToolController);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(r=_possibleConstructorReturn(this,(e=_getPrototypeOf(ToolController)).call.apply(e,[this].concat(n)))).choose=function(e){e.preventDefault(),r.props.setTool(e.currentTarget.id)},r.addCircle=function(){var e=r.props.existing,t=new s.a("circle-".concat(Object.keys(e).length));r.props.add(t)},r.addRectangle=function(){var e=r.props.existing,t=new u.a("rect-".concat(Object.keys(e).length));r.props.add(t)},r}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ToolController,i["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(ToolController,[{key:"render",value:function render(){var e=this.props.tool;return a.a.createElement("div",{style:{display:"flex",padding:"10px 10px 0px 10px"}},a.a.createElement("button",_extends({type:"button",id:"SETTINGS",onClick:this.choose},"SETTINGS"===e?{primary:"true"}:{}),a.a.createElement("div",null,"☰")),a.a.createElement("button",{type:"button",id:"CLEAR",onClick:this.choose},a.a.createElement("div",null,"✗")),a.a.createElement("button",_extends({type:"button",id:"SELECT",onClick:this.choose},"SELECT"===e?{primary:"true"}:{}),a.a.createElement("div",{style:{transform:"rotate(-135deg)"}},"➤")),a.a.createElement("button",{type:"button",onClick:this.addCircle},"+ Circle"),a.a.createElement("button",{type:"button",onClick:this.addRectangle},"+ Rectangle"))}}]),ToolController}())||n;function IntegerInput_typeof(e){return(IntegerInput_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IntegerInput_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IntegerInput_possibleConstructorReturn(e,t){return!t||"object"!==IntegerInput_typeof(t)&&"function"!=typeof t?function IntegerInput_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function IntegerInput_getPrototypeOf(e){return(IntegerInput_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IntegerInput_setPrototypeOf(e,t){return(IntegerInput_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var y,d=Object(o.a)(p=function(){function IntegerInput(){var e,a;!function IntegerInput_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IntegerInput);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(a=IntegerInput_possibleConstructorReturn(this,(e=IntegerInput_getPrototypeOf(IntegerInput)).call.apply(e,[this].concat(r)))).state={localValue:0},a.onChange=function(e){a.setState({localValue:e.target.value})},a.onBlur=function(){var e=a.props,t=e.value,r=e.setValue,n=a.state.localValue,o=parseInt(n),i=t;Number.isInteger(o)&&(i=o),r(i),a.setState({localValue:i})},a.handleKeyDown=function(e){var t=e.key,r=e.shiftKey;"ArrowUp"===t&&r?a.incrementBy(10):"ArrowUp"===t?a.incrementBy(1):"ArrowDown"===t&&r?a.decrementBy(10):"ArrowDown"===t&&a.decrementBy(1)},a.changeBy=function(i){return function(e){var t=a.props,r=t.value,n=t.setValue,o=i(r,e);n(o),a.setState({localValue:o})}},a.incrementBy=a.changeBy(function(e,t){return e+t}),a.decrementBy=a.changeBy(function(e,t){return e-t}),a}return function IntegerInput_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IntegerInput_setPrototypeOf(e,t)}(IntegerInput,i["Component"]),function IntegerInput_createClass(e,t,r){return t&&IntegerInput_defineProperties(e.prototype,t),r&&IntegerInput_defineProperties(e,r),e}(IntegerInput,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props.value;e!==this.state.localValue&&this.setState({localValue:e})}},{key:"render",value:function render(){var e=this.state.localValue;return a.a.createElement("input",{type:"text",style:{width:"60px",marginRight:"20px",textAlign:"center"},value:e,onChange:this.onChange,onKeyDown:this.handleKeyDown,onBlur:this.onBlur})}}]),IntegerInput}())||p;function PropertyEditor_typeof(e){return(PropertyEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PropertyEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PropertyEditor_possibleConstructorReturn(e,t){return!t||"object"!==PropertyEditor_typeof(t)&&"function"!=typeof t?function PropertyEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function PropertyEditor_getPrototypeOf(e){return(PropertyEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PropertyEditor_setPrototypeOf(e,t){return(PropertyEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function wr(e){var t=e.children,r=e.open,n=e.handleClose,o=Object(i.useRef)(null);return!1===r?null:a.a.createElement("div",{style:m.container,onClick:function onClickaway(e){o.current.contains(e.target)||n()}},a.a.createElement("div",{ref:o,style:m.body},a.a.createElement("div",{style:m.content},t)))}var b,h=Object(o.a)(y=function(){function PropertyEditor(){var e,a;!function PropertyEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PropertyEditor);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(a=PropertyEditor_possibleConstructorReturn(this,(e=PropertyEditor_getPrototypeOf(PropertyEditor)).call.apply(e,[this].concat(r)))).propertySetter=function(i){return function(e){var t=a.props,r=t.item,n=t.now;if(r.keyframes[i]&&r.keyframes[i].length){var o=r.keyframes[i].find(function(e){return e.frame===n});o?o.value=e:r.addKey("".concat(i),n,e)}else r[i]=e}},a}return function PropertyEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PropertyEditor_setPrototypeOf(e,t)}(PropertyEditor,i["Component"]),function PropertyEditor_createClass(e,t,r){return t&&PropertyEditor_defineProperties(e.prototype,t),r&&PropertyEditor_defineProperties(e,r),e}(PropertyEditor,[{key:"classControls",value:function classControls(){var e=this.props.item,t=e.constructor.name;return"Circle"===t?a.a.createElement(a.a.Fragment,null,a.a.createElement("label",null,"Radius"),a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(d,{value:e.radius,setValue:this.propertySetter("radius")}))):"Rectangle"===t?a.a.createElement(a.a.Fragment,null,a.a.createElement("label",null,"Size"),a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(d,{value:e.width,setValue:this.propertySetter("width")}),a.a.createElement(d,{value:e.height,setValue:this.propertySetter("height")}))):void 0}},{key:"render",value:function render(){var e=this.props.item;return void 0===e?a.a.createElement("h3",{style:{padding:"10px",color:"darkgray"}},"Select an Item on the Canvas."):a.a.createElement("div",{style:{padding:"10px"}},a.a.createElement("h4",null,e.key),a.a.createElement("label",null,"Position"),a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(d,{value:e.x,setValue:this.propertySetter("x")}),a.a.createElement(d,{value:e.y,setValue:this.propertySetter("y")})),a.a.createElement("label",null,"Scale"),a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(d,{value:e.scale,setValue:this.propertySetter("scale")})),a.a.createElement("label",null,"Rotation"),a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(d,{value:e.rotation,setValue:this.propertySetter("rotation")})),this.classControls())}}]),PropertyEditor}())||y,m={container:{position:"fixed",zIndex:100,left:0,top:0,width:"100%",height:"100%",overflow:"auto",backgroundColor:"rgba(0, 0, 0, 0.4)"},body:{backgroundColor:"#fefefe",margin:"15% auto",border:"1px solid #888",width:"80%"},content:{padding:"16px"}};function ProjectSettings_typeof(e){return(ProjectSettings_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ProjectSettings_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ProjectSettings_possibleConstructorReturn(e,t){return!t||"object"!==ProjectSettings_typeof(t)&&"function"!=typeof t?function ProjectSettings_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ProjectSettings_getPrototypeOf(e){return(ProjectSettings_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ProjectSettings_setPrototypeOf(e,t){return(ProjectSettings_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var v,_=Object(o.a)(b=function(){function ProjectSettings(){var e,n;!function ProjectSettings_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProjectSettings);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=ProjectSettings_possibleConstructorReturn(this,(e=ProjectSettings_getPrototypeOf(ProjectSettings)).call.apply(e,[this].concat(r)))).setName=function(e){n.props.store.project.setName(e.target.value)},n.setLength=function(e){var t=n.props.store,r=parseInt(e.target.value);t.animation.setLength(r)},n.setColor=function(e){n.props.store.canvas.color=e.target.value},n.closeModal=function(){return n.props.store.canvas.setTool("SELECT")},n}return function ProjectSettings_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ProjectSettings_setPrototypeOf(e,t)}(ProjectSettings,i["Component"]),function ProjectSettings_createClass(e,t,r){return t&&ProjectSettings_defineProperties(e.prototype,t),r&&ProjectSettings_defineProperties(e,r),e}(ProjectSettings,[{key:"render",value:function render(){var e=this.props.store;return a.a.createElement(wr,{open:e.mode.settings,handleClose:this.closeModal},a.a.createElement("h3",null,"Project Settings"),a.a.createElement("label",null,"Project Name"),a.a.createElement("input",{type:"text",value:e.project.name,onChange:this.setName}),a.a.createElement("label",null,"Animation Length"),a.a.createElement("input",{type:"number",step:"1",value:e.animation.frames,onChange:this.setLength}),a.a.createElement("label",null,"Canvas Background"),a.a.createElement("select",{value:e.canvas.color,onChange:this.setColor},a.a.createElement("option",{value:"#000000"},"Black"),a.a.createElement("option",{value:"#ffffff"},"White")),a.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},a.a.createElement("button",{type:"button",onClick:this.closeModal},"Close")))}}]),ProjectSettings}())||b;function ClearProject_typeof(e){return(ClearProject_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ClearProject_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ClearProject_possibleConstructorReturn(e,t){return!t||"object"!==ClearProject_typeof(t)&&"function"!=typeof t?function ClearProject_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ClearProject_getPrototypeOf(e){return(ClearProject_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ClearProject_setPrototypeOf(e,t){return(ClearProject_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var g,O=Object(o.a)(v=function(){function ClearProject(){var e,t;!function ClearProject_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ClearProject);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=ClearProject_possibleConstructorReturn(this,(e=ClearProject_getPrototypeOf(ClearProject)).call.apply(e,[this].concat(n)))).closeModal=function(){return t.props.store.canvas.setTool("SELECT")},t}return function ClearProject_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ClearProject_setPrototypeOf(e,t)}(ClearProject,i["Component"]),function ClearProject_createClass(e,t,r){return t&&ClearProject_defineProperties(e.prototype,t),r&&ClearProject_defineProperties(e,r),e}(ClearProject,[{key:"render",value:function render(){var e=this.props.store,t=e.mode,r=e.project,n=e.reset;return a.a.createElement(wr,{open:t.clear,handleClose:this.closeModal},a.a.createElement("h3",null,"Remove Project?"),a.a.createElement("p",null,"You are about to remove ",a.a.createElement("strong",null,r.name)," from your workspace, and start from scratch. Are you sure you want to do this?"),a.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},a.a.createElement("button",{type:"button",onClick:this.closeModal},"Cancel"),a.a.createElement("button",{type:"button",onClick:n},"Remove")))}}]),ClearProject}())||v,P=r("aP9/"),w=r("RYE5"),j=r("Vo52"),E=r("mDzE");function BuildMode_typeof(e){return(BuildMode_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,o=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return r}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function BuildMode_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BuildMode_possibleConstructorReturn(e,t){return!t||"object"!==BuildMode_typeof(t)&&"function"!=typeof t?function BuildMode_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function BuildMode_getPrototypeOf(e){return(BuildMode_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BuildMode_setPrototypeOf(e,t){return(BuildMode_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var S=Object(o.a)(g=function(){function BuildMode(){var e,t;!function BuildMode_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BuildMode);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=BuildMode_possibleConstructorReturn(this,(e=BuildMode_getPrototypeOf(BuildMode)).call.apply(e,[this].concat(n)))).state={ready:!1,inputItemsExist:!1},t.autorunDisposer=void 0,t.onSetup=function(){t.props.store.canvas.build(),t.setState({ready:!0})},t.add=function(e){t.props.store.canvas.add(e)},t}return function BuildMode_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BuildMode_setPrototypeOf(e,t)}(BuildMode,i["Component"]),function BuildMode_createClass(e,t,r){return t&&BuildMode_defineProperties(e.prototype,t),r&&BuildMode_defineProperties(e,r),e}(BuildMode,[{key:"componentDidMount",value:function componentDidMount(){var e=this,t=this.props.store,r=t.canvas,n=t.project,o=document.getElementById("build-container");setTimeout(function(){var e=Math.round(o.clientWidth)-20,t=Math.round(9/16*e);r.setSize(e,t)},1),"SELECT"===r.tool&&setTimeout(function(){r.setTool(void 0),r.setTool("SELECT")},20),this.autorunDisposer=Object(l.e)(function(){e.setState({inputItemsExist:Boolean(n.inputItems)})})}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){var s=this,r=t.inputItemsExist,n=this.props.store,u=n.canvas,o=n.project,i=this.state,a=i.ready,l=i.inputItemsExist;!o.inputBuilt&&(a&&!r&&l||l&&!t.ready&&a)&&(Object.entries(o.inputItems).forEach(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1],o=n.class,i=n.keyframes,a=_objectWithoutProperties(n,["class","keyframes"]),l=new j.a[o](r);u.add(l);var c=Object.entries(i).reduce(function(e,t){var r=_slicedToArray(t,2),n=r[0],o=r[1];return e[n]=o.map(E.a.fromJSON),e},{});l.keyframes=function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(r,!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},s.keyframes,{},c),Object.entries(a).forEach(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];l[r]=n})}),o.inputBuilt=!0)}},{key:"componentWillUnmount",value:function componentWillUnmount(){var e=this.props.store,t=e.project;e.canvas.selectOff(),t.clear(),this.autorunDisposer()}},{key:"render",value:function render(){var e=this.props.store,t=e.canvas,r=e.animation,n=this.state.ready;return a.a.createElement(a.a.Fragment,null,a.a.createElement(_,{store:this.props.store}),a.a.createElement(O,{store:this.props.store}),a.a.createElement(P.a,{gridTemplateRows:"auto 60px",gridTemplateColumns:"auto 340px"},a.a.createElement(w.a,{gridArea:"1 / 1 / 1 / 2",id:"build-container",padding:"10px",alignSelf:"center"},a.a.createElement(c.a,{canvas:t,animation:r,onSetup:this.onSetup})),a.a.createElement(w.a,{gridArea:"1 / 2 / 1 / 3",backgroundColor:"rgb(210, 210, 210)"},a.a.createElement(h,{item:t.selected,now:r.now})),a.a.createElement(w.a,{gridArea:"2 / 1 / 2 / 3",backgroundColor:"rgb(180, 180, 180)"},n&&a.a.createElement(f,{existing:t.animatables,add:this.add,tool:t.tool,setTool:t.setTool}))))}}]),BuildMode}())||g;t.a=S},mDzE:function(e,t,r){"use strict";function Lx(e,t){if(1===e.length)return e[0];for(var r=[],n=0;n<e.length-1;n+=1){var o=e[n],i=e[n+1],a=(1-t)*o.x+t*i.x,l=(1-t)*o.y+t*i.y;r.push({x:a,y:l})}return Lx(r,t)}var n,o,i,a,l,c,s,u=r("2vnA"),p=r("Rgk+"),f=function bezierApproximation(e,t){if(t<=0)throw Error("Bezier approximation requires at least 1 sample request");var o=function bezierPoints(e,t){var r=e.x2,n=e.x3,o=e.y2,i=e.y3;if(1<r||r<0||1<n||n<0)throw Error("This bezier curve requires control values between 0 & 1");for(var a=[],l=1/t,c=0;c<=t;c+=1){var s=Lx([{x:0,y:0},{x:r,y:o},{x:n,y:i},{x:1,y:1}],c*l);a.push(s)}return a}(e,Math.pow(10,Math.round(Math.log10(t))+1));return{y:function y(t){var e=o.findIndex(function(e){return e.x>t}),r=o[e-1],n=o[e];return function lerp(e,t,r,n,o){return(o-e)*(n-t)/(r-e)+t}(r.x,r.y,n.x,n.y,t)}}};function _initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _applyDecoratedDescriptor(r,n,e,t,o){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i}var y=(s=c=function(){function Keyframe(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Keyframe),_initializerDefineProperty(this,"frame",o,this),_initializerDefineProperty(this,"value",i,this),_initializerDefineProperty(this,"handleIn",a,this),_initializerDefineProperty(this,"handleOut",l,this),this.frame=e,this.value=t,this.handleIn=new p.a("IN"),this.handleOut=new p.a("OUT")}return _createClass(Keyframe,null,[{key:"OBSERVABLES",get:function get(){return["frame","value","handleIn","handleOut"]}}]),_createClass(Keyframe,[{key:"toJSON",value:function toJSON(){return{frame:this.frame,value:this.value,handleIn:this.handleIn.toJSON(),handleOut:this.handleOut.toJSON()}}}],[{key:"fromJSON",value:function fromJSON(e){var t=e.frame,r=e.value,n=e.handleIn,o=e.handleOut,i=new Keyframe(t,r);return i.handleIn.influence=n.influence,i.handleIn.distance=n.distance,i.handleOut.influence=o.influence,i.handleOut.distance=o.distance,i}}]),Keyframe}(),c.sort=function(e,t){return e.frame-t.frame},c.interpolate=function(e,t,r){var n=f({x2:e.handleOut.position.x,y2:e.handleOut.position.y,x3:t.handleIn.position.x,y3:t.handleIn.position.y},t.frame-e.frame-1),o=(r-e.frame)/(t.frame-e.frame),i=n.y(o);return(t.value-e.value)*i+e.value},o=_applyDecoratedDescriptor((n=s).prototype,"frame",[u.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=_applyDecoratedDescriptor(n.prototype,"value",[u.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=_applyDecoratedDescriptor(n.prototype,"handleIn",[u.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=_applyDecoratedDescriptor(n.prototype,"handleOut",[u.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n);t.a=y},pC6C:function(e,t,r){"use strict";var n,o=r("q1tI"),i=r.n(o),a=r("kMSe");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var l=Object(a.a)(n=function(){function Canvas(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Canvas),_possibleConstructorReturn(this,_getPrototypeOf(Canvas).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Canvas,o["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Canvas,[{key:"componentDidMount",value:function componentDidMount(){this.testForAvailability()}},{key:"componentDidUpdate",value:function componentDidUpdate(e){void 0===e.width&&this.testForAvailability()}},{key:"testForAvailability",value:function testForAvailability(){var e=this.props,t=e.width,r=e.hasSize;void 0!==t&&r()}},{key:"render",value:function render(){var e=this.props,t=e.id,r=e.width,n=e.height;return void 0===r?null:i.a.createElement("canvas",{style:{display:"block"},id:t,width:r,height:n})}}]),Canvas}())||n;t.a=l},qZNB:function(e,t,r){"use strict";var n=r("q1tI"),o=r.n(n),i=r("aP9/"),a=r("RYE5");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var l=function(){function ExportMode(){var e,o;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ExportMode);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(o=_possibleConstructorReturn(this,(e=_getPrototypeOf(ExportMode)).call.apply(e,[this].concat(r)))).loadThenBuild=function(e){var t=o.props.store,r=t.project,n=t.mode;return r.loadFromFile(e,function(){return n.set("BUILD")})},o.saveThenDownload=function(){var e=o.props.store.project;e.download(e.save())},o}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ExportMode,n["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(ExportMode,[{key:"render",value:function render(){var e=this.props.store.project;return o.a.createElement(i.a,{gridTemplateRows:"1fr 1fr 1fr",gridTemplateColumns:"auto",justifyItems:"center"},o.a.createElement(a.a,{alignSelf:"end"},o.a.createElement("button",{type:"button",onClick:this.saveThenDownload},"⇩ Save Project to File")),o.a.createElement(a.a,{alignSelf:"center"},o.a.createElement("label",{htmlFor:"file-button",style:{display:"block",width:"300px"}},"↪ Load Project from File"),o.a.createElement("input",{type:"file",id:"file-button",onChange:this.loadThenBuild,style:{width:"300px"}})),o.a.createElement(a.a,null,o.a.createElement("button",{type:"button",onClick:e.publish},"⤒ Publish Project to Gallery")))}}]),ExportMode}();t.a=l},v4a6:function(e,t,r){e.exports=r.p+"bare.min.css"},vYMq:function(e,t,r){"use strict";var n,o,i,a,l,c,s,u,p=r("2vnA"),y=r("mDzE");function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(r,!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return r}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _applyDecoratedDescriptor(r,n,e,t,o){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i}var f=(o=_applyDecoratedDescriptor((n=function(){function AnimatableItem(e){var r=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AnimatableItem),_initializerDefineProperty(this,"canvas",o,this),_initializerDefineProperty(this,"_x",i,this),_initializerDefineProperty(this,"_y",a,this),_initializerDefineProperty(this,"_scale",l,this),_initializerDefineProperty(this,"_rotation",c,this),_initializerDefineProperty(this,"_fillColor",s,this),_initializerDefineProperty(this,"keyframes",u,this),this.absolute=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"width";return e/100*r.canvas[t]},this.fraction=function(e){return e/100},this.valueForFrame=function(e,t){var r=t.map(function(e){return e.frame});if(r.includes(e))return t[r.indexOf(e)].value;r.push(e),r.sort(function(e,t){return e-t});var n=r.indexOf(e);if(0===n)return t[0].value;if(n===r.length-1)return t[t.length-1].value;var o=t[n-1],i=t[n];return y.a.interpolate(o,i,e)},this.key=e,this.paper=void 0}return _createClass(AnimatableItem,null,[{key:"X",get:function get(){return 50}},{key:"Y",get:function get(){return 50}},{key:"SCALE",get:function get(){return 100}},{key:"ROTATION",get:function get(){return 0}},{key:"FILL_COLOR",get:function get(){return{hue:Math.floor(361*Math.random()),saturation:.4,brightness:1}}},{key:"OBSERVABLES",get:function get(){return["x","y","scale","rotation","fillColor","keyframes"]}}]),_createClass(AnimatableItem,[{key:"toJSON",value:function toJSON(){return{class:this.constructor.name,x:this.x,y:this.y,scale:this.scale,rotation:this.rotation,fillColor:this.fillColor,keyframes:Object.entries(this.keyframes).reduce(function(e,t){var r=_slicedToArray(t,2),n=r[0],o=r[1];return e[n]=o.map(function(e){return e.toJSON()}),e},{})}}},{key:"setCanvas",value:function setCanvas(e){this.canvas=e,this.paper=e.paper}},{key:"setUntrackedValues",value:function setUntrackedValues(){this.item.scale(this.fraction(this.scale)),this.item.rotate(this.rotation)}},{key:"updateKeyframes",value:function updateKeyframes(e,t){this.keyframes=_objectSpread({},this.keyframes,_defineProperty({},e,t))}},{key:"addKey",value:function addKey(e,t,r,n){var o=3<arguments.length&&void 0!==n&&n,i=(2<arguments.length&&void 0!==r?r:void 0)||this[e],a=new y.a(t,i),l=[].concat(_toConsumableArray(this.keyframes[e]),[a]);if(l.sort(y.a.sort),!o&&["x","y"].includes(e)){var c,s;"x"===e&&(s="y"),"y"===e&&(s="x");var u=this[s],p=new y.a(t,u),f=[].concat(_toConsumableArray(this.keyframes[s]),[p]);f.sort(y.a.sort),this.keyframes=_objectSpread({},this.keyframes,(_defineProperty(c={},e,l),_defineProperty(c,s,f),c))}else this.updateKeyframes(e,l);return a}},{key:"removeKey",value:function removeKey(e,t){var r=_toConsumableArray(this.keyframes[e]);if(r=r.filter(function(e){return e.frame!==t}),"x"===e){var n=_toConsumableArray(this.keyframes.y);n=n.filter(function(e){return e.frame!==t}),this.keyframes=_objectSpread({},this.keyframes,{x:r,y:n})}else this.updateKeyframes(e,r)}},{key:"create",value:function create(e){void 0===this.canvas&&this.setCanvas(e);var t={name:this.key,fillColor:this.fillColor};"function"==typeof this.onCreate&&this.onCreate(t),void 0!==this.item&&this.setUntrackedValues()}},{key:"recreate",value:function recreate(){this.item.remove(),this.create(this.canvas),this.canvas.addListenersAndSelect(this)}},{key:"draw",value:function draw(s){var u=this;void 0!==this.item&&Object.entries(this.keyframes).forEach(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];if("y"!==r)if("x"===r){var o=n,i=u.keyframes.y;if(0===o.length&&0===i.length)return;var a=u.valueForFrame(s,o),l=u.valueForFrame(s,i);u.position={x:a,y:l}}else{if(0===n.length)return;var c=u.valueForFrame(s,n);u[r]=c}})}},{key:"item",get:function get(){return this.paper.project.activeLayer.children[this.key]}},{key:"x",get:function get(){return this._x},set:function set(e){this.item.position.x=this.absolute(e),this._x=e}},{key:"y",get:function get(){return this._y},set:function set(e){this.item.position.y=this.absolute(e,"height"),this._y=e}},{key:"position",get:function get(){return{x:this.x,y:this.y}},set:function set(e){var t=e.x,r=e.y;this.x=t,this.y=r}},{key:"scale",get:function get(){return this._scale},set:function set(e){if(0===this.scale&&0!==e)this.item.remove(),this.create(this.canvas),this.item.scale(this.fraction(e));else{var t=e/this.scale;this.item.scale(t)}this._scale=e}},{key:"rotation",get:function get(){return this._rotation},set:function set(e){var t=e-this.rotation;this.item.rotate(t),this._rotation=e}},{key:"fillColor",get:function get(){return this._fillColor},set:function set(e){this.item.fillColor=e,this._fillColor=e}}]),AnimatableItem}()).prototype,"canvas",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=_applyDecoratedDescriptor(n.prototype,"_x",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return f.X}}),a=_applyDecoratedDescriptor(n.prototype,"_y",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return f.Y}}),l=_applyDecoratedDescriptor(n.prototype,"_scale",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return f.SCALE}}),c=_applyDecoratedDescriptor(n.prototype,"_rotation",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return f.ROTATION}}),s=_applyDecoratedDescriptor(n.prototype,"_fillColor",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return f.FILL_COLOR}}),u=_applyDecoratedDescriptor(n.prototype,"keyframes",[p.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{x:Object(p.m)([]),y:Object(p.m)([]),scale:Object(p.m)([]),rotation:Object(p.m)([])}}}),_applyDecoratedDescriptor(n.prototype,"setCanvas",[p.d],Object.getOwnPropertyDescriptor(n.prototype,"setCanvas"),n.prototype),_applyDecoratedDescriptor(n.prototype,"setUntrackedValues",[p.d],Object.getOwnPropertyDescriptor(n.prototype,"setUntrackedValues"),n.prototype),_applyDecoratedDescriptor(n.prototype,"updateKeyframes",[p.d],Object.getOwnPropertyDescriptor(n.prototype,"updateKeyframes"),n.prototype),n);t.a=f},wpFA:function(e,t,r){"use strict";var n=r("q1tI"),o=r.n(n),i=r("aP9/"),a=r("RYE5");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var l=function(){function ModeController(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ModeController);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(ModeController)).call.apply(e,[this].concat(n)))).navigate=function(e){e.preventDefault(),t.props.mode.set(e.target.textContent.toUpperCase())},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ModeController,n["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(ModeController,[{key:"render",value:function render(){var e=this.props.mode.current;return o.a.createElement(i.a,{gridTemplateColumns:"1fr 1fr 1fr 1fr",borderBottom:"1px solid rgb(230, 230, 230)"},o.a.createElement(a.a,{display:"grid",alignItems:"center",justifyItems:"center"},o.a.createElement("button",_extends({type:"button",style:{margin:"0px"},onClick:this.navigate},"BUILD"===e?{primary:"true"}:{}),"Build")),o.a.createElement(a.a,{display:"grid",alignItems:"center",justifyItems:"center"},o.a.createElement("button",_extends({type:"button",style:{margin:"0px"},onClick:this.navigate},"ANIMATE"===e?{primary:"true"}:{}),"Animate")),o.a.createElement(a.a,{display:"grid",alignItems:"center",justifyItems:"center"},o.a.createElement("button",_extends({type:"button",style:{margin:"0px"},onClick:this.navigate},"VIEW"===e?{primary:"true"}:{}),"View")),o.a.createElement(a.a,{display:"grid",alignItems:"center",justifyItems:"center"},o.a.createElement("button",_extends({type:"button",style:{margin:"0px"},onClick:this.navigate},"EXPORT"===e?{primary:"true"}:{}),"Export")))}}]),ModeController}();t.a=l},xp50:function(e,t,r){"use strict";var n=r("q1tI"),b=r.n(n),l=r("2vnA"),o=r("kMSe"),h=r("AHVW"),i=r("pC6C"),a=r("IiLU"),c=r.n(a),v=r("Rgk+");function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(r,!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s,u=function(){function HandleEditor(e,t,r,n){var o=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HandleEditor),this.attatchTo=function(e){var t=document.getElementById(e);o.element=t,o.paper.setup(t)},this.handleBefore=function(){return o.absoluteHandlePosition(o.keyframeBefore.handleOut.position)},this.handleAfter=function(){return o.absoluteHandlePosition(o.keyframeAfter.handleIn.position)},this.trueWidth=e,this.keyframeBefore=t,this.keyframeAfter=r,this.onMove=n,this.paper=new c.a.PaperScope,this.element=void 0}return function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(HandleEditor,[{key:"destroy",value:function destroy(){this.paper.project&&(this.paper.project.clear(),this.paper.project.remove())}},{key:"init",value:function init(){var l=this;this.padding=10,this.width=this.trueWidth-2*this.padding;var e=this.width,t=this.padding,r=[t,t],n=[e+t,t],o=[t,e+t],c=e/v.a.STEP,i=this.trueWidth/2;new this.paper.Path.Rectangle({topLeft:[0,0],bottomRight:[this.trueWidth,this.trueWidth],fillColor:"rgb(210, 210, 210)"});for(var a=new this.paper.SymbolDefinition(new this.paper.Path.Line({from:[0,0],to:[0,this.trueWidth],strokeColor:"rgb(180, 180, 180)",strokeWidth:2})),s=0;s<=v.a.STEP;s+=1){var u=t+0+c*s;a.place(new this.paper.Point(u,i)),a.place(new this.paper.Point(i,u)).rotate(90)}this.curve=new this.paper.Path.Line({strokeColor:"rgb(30, 155, 255)",strokeWidth:2,from:new this.paper.Point(o),to:new this.paper.Point(n)}),this.setVisualCurveHandles();var p={strokeColor:"rgb(30, 155, 255)",strokeWidth:2},f=new this.paper.Path.Line(_objectSpread({},p,{from:o,to:this.handleBefore()})),y=new this.paper.Path.Line(_objectSpread({},p,{from:this.handleAfter(),to:n})),d=new this.paper.SymbolDefinition(new this.paper.Path.Circle({point:r,radius:6,strokeColor:"rgb(30, 155, 255)",strokeWidth:2,fillColor:new this.paper.Color(1,.01)})),b=new this.paper.SymbolDefinition(new this.paper.Path.Rectangle({point:[100,100],size:[10,10],fillColor:"rgb(30, 155, 255)"}));b.place(o),b.place(n);var h=d.place(this.handleBefore()),m=d.place(this.handleAfter());h.onMouseEnter=function(){l.element.style.cursor="pointer"},h.onMouseLeave=function(){l.element.style.cursor="default"},h.onMouseDrag=function(e){l.element.style.cursor="pointer";var t=e.point.subtract(h.position),r=Math.abs(t.x)>=c/2,n=Math.abs(t.y)>=c/2;if(r||n){var o=Math.sign(t.x),i=Math.sign(t.y),a=h.position.add({x:o*c*r,y:i*c*n});h.position=a,f.lastSegment.point=a,l.onMove("OUT",{influence:o*v.a.STEP*r,distance:-1*i*v.a.STEP*n}),l.setVisualCurveHandles()}},h.onMouseUp=function(){l.element.style.cursor="default"},m.onMouseEnter=function(){l.element.style.cursor="pointer"},m.onMouseLeave=function(){l.element.style.cursor="default"},m.onMouseDrag=function(e){l.element.style.cursor="pointer";var t=e.point.subtract(m.position),r=Math.abs(t.x)>=c/2,n=Math.abs(t.y)>=c/2;if(r||n){var o=Math.sign(t.x),i=Math.sign(t.y),a=m.position.add({x:o*c*r,y:i*c*n});m.position=a,y.firstSegment.point=a,l.onMove("IN",{influence:-1*o*v.a.STEP*r,distance:i*v.a.STEP*n}),l.setVisualCurveHandles()}},m.onMouseUp=function(){l.element.style.cursor="default"}}},{key:"absoluteHandlePosition",value:function absoluteHandlePosition(e){return[e.x*this.width+this.padding,this.width-e.y*this.width+this.padding]}},{key:"setVisualCurveHandles",value:function setVisualCurveHandles(){this.curve&&(this.curve.firstSegment.handleOut=new this.paper.Point(this.keyframeBefore.handleOut.influence*this.width/v.a.MAX,-1*this.keyframeBefore.handleOut.distance*this.width/v.a.MAX),this.curve.lastSegment.handleIn=new this.paper.Point(-1*this.keyframeAfter.handleIn.influence*this.width/v.a.MAX,this.keyframeAfter.handleIn.distance*this.width/v.a.MAX))}}]),HandleEditor}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HandleEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var p,m=Object(o.a)(s=function(){function HandleEditor(){var e,i;!function HandleEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HandleEditor);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(i=_possibleConstructorReturn(this,(e=_getPrototypeOf(HandleEditor)).call.apply(e,[this].concat(r)))).state={},i.handleEditor=void 0,i.handleEditorHasSize=function(){i.buildHandleEditorCanvas()},i.buildHandleEditorCanvas=function(){var e=i.props,t=e.width,r=e.keyframeBefore,n=e.keyframeAfter,o=e.onMove;r&&n&&(i.handleEditor=new u(t,r,n,o),i.handleEditor.attatchTo("handle-editor"),i.handleEditor.init())},i}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(HandleEditor,b.a.Component),function HandleEditor_createClass(e,t,r){return t&&HandleEditor_defineProperties(e.prototype,t),r&&HandleEditor_defineProperties(e,r),e}(HandleEditor,[{key:"componentDidUpdate",value:function componentDidUpdate(e){void 0!==e.keyframeKey&&e.keyframeKey!==this.props.keyframeKey&&(this.handleEditor&&this.handleEditor.destroy(),this.buildHandleEditorCanvas())}},{key:"render",value:function render(){var e=this.props,t=e.width,r=e.keyframeKey,n=e.keyframeBefore,o=e.keyframeAfter;return void 0===r?b.a.createElement("h3",{style:{padding:"10px",color:"darkgray"}},"Select a Keyframe on the Timeline."):n&&!o?b.a.createElement("h3",{style:{padding:"10px",color:"darkgray"}},b.a.createElement("i",null,"Selected tail Keyframe has no handle relationships.")):b.a.createElement("div",{style:{padding:"10px"}},b.a.createElement(i.a,{id:"handle-editor",width:t,height:t,hasSize:this.handleEditorHasSize}))}}]),HandleEditor}())||s;function KeyframeEditor_typeof(e){return(KeyframeEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return r}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function KeyframeEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KeyframeEditor_possibleConstructorReturn(e,t){return!t||"object"!==KeyframeEditor_typeof(t)&&"function"!=typeof t?function KeyframeEditor_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function KeyframeEditor_getPrototypeOf(e){return(KeyframeEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function KeyframeEditor_setPrototypeOf(e,t){return(KeyframeEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var f,_=Object(o.a)(p=function(){function KeyframeEditor(){var e,g;!function KeyframeEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,KeyframeEditor);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(g=KeyframeEditor_possibleConstructorReturn(this,(e=KeyframeEditor_getPrototypeOf(KeyframeEditor)).call.apply(e,[this].concat(r)))).state={previouslyClickedKeyframe:void 0},g.paper=new c.a.PaperScope,g.element=void 0,g.keyframeEditorHasSize=function(){g.buildKeyframeEditorCanvas()},g.handleKeyframeClick=function(e){e.stopPropagation();var t=e.currentTarget,r=g.props.onSelect,n=g.state.previouslyClickedKeyframe;n&&(n.strokeWidth=0,n.shadowColor.alpha=0),t.strokeWidth=1,t.shadowColor.alpha=.3,r(t.name),g.setState({previouslyClickedKeyframe:t})},g.handleKeyUp=function(e){var t=e.key,r=g.props,n=r.item,o=r.keyframeKey,i=r.keyframe,a=r.onSelect;if("Backspace"===t||"Delete"===t){e.preventDefault();var l=o.split(".")[1];a(void 0),n.removeKey(l,i.frame),g.rebuild()}},g.buildKeyframeEditorCanvas=function(){var y=g.props.item;g.element=document.getElementById("keyframe-editor"),g.paper.setup(g.element);var e=g.timelineMath(),d=e.verticalSpacing,b=e.timelineStart,h=e.timelineEnd,m=e.timelineStep,v=0,t=g.buildPlayhead().playheadLine,_=[];Object.entries(y.keyframes).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],o=n,i=v*d+d;if("y"!==n){"x"===n&&(o="position"),new g.paper.PointText({point:[0,i],content:o,fillColor:"black",fontSize:14});var a=new g.paper.Path.Line({name:"timelineHover",from:[b+5,i-5],to:[h,i-5],strokeColor:"rgba(180, 180, 180, 1)",strokeWidth:40}),l=new g.paper.Path.Line({from:[b+5,i-5],to:[h,i-5],strokeColor:"lightgrey",strokeWidth:4}),c=new g.paper.Path.Rectangle({name:"newKeyframeRect",point:[0,i-10],size:[10,10],radius:3,fillColor:"rgba(31, 155, 255, 0.5)",rotation:45,visible:!1}),s=new g.paper.PointText({point:[0,i-8],content:"+",fillColor:"rgba(31, 155, 255, 0.5)",fontSize:14,visible:!1});_.push([a,c,s]);var u=function newKeyframeHoverEffect(e){c.visible=!0,s.visible=!0,c.position.x=e.point.x,s.position.x=e.point.x+10},p=function newKeyframeHide(){c.visible=!1,s.visible=!1},f=function newKeyClick(e){var t=Math.round((e.point.x-b)/m);y.addKey(n,t),g.rebuild()};a.onMouseMove=u,a.onMouseLeave=p,l.onMouseMove=u,l.onMouseLeave=p,c.onMouseMove=function(e){a.hitTest(e.point,{stroke:!0,segments:!1})?u(e):p()},a.onClick=f,l.onClick=f,c.onClick=f,r.forEach(function(e,t){var r=new g.paper.Path.Rectangle({name:"".concat(y.key,".").concat(n,".").concat(t),point:[b+e.frame*m-5,i-10],size:[10,10],radius:3,fillColor:"rgb(30, 155, 255)",rotation:45,strokeColor:"white",strokeWidth:0,shadowColor:"rgba(0, 0, 0, 0)",shadowBlur:5});r.on("mousedown",g.handleKeyframeClick),r.onMouseEnter=function(){g.element.style.cursor="pointer",p()},r.onMouseLeave=function(){g.element.style.cursor="default"}}),v+=1}}),t.onMouseMove=function(i){_.forEach(function(e){var t=_slicedToArray(e,3),r=t[0],n=t[1],o=t[2];r.hitTest(i.point)?(n.visible=!0,o.visible=!0,n.position.x=i.point.x,o.position.x=i.point.x+10):(n.visible=!1,o.visible=!1)})},t.bringToFront()},g}return function KeyframeEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KeyframeEditor_setPrototypeOf(e,t)}(KeyframeEditor,b.a.Component),function KeyframeEditor_createClass(e,t,r){return t&&KeyframeEditor_defineProperties(e.prototype,t),r&&KeyframeEditor_defineProperties(e,r),e}(KeyframeEditor,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentDidUpdate",value:function componentDidUpdate(e){void 0!==e.item&&void 0!==this.props.item&&e.item.key!==this.props.item.key&&this.rebuild(),e.now!==this.props.now&&this.buildPlayhead()}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("keyup",this.handleKeyUp)}},{key:"rebuild",value:function rebuild(){this.paper.project.clear(),this.paper.project.remove(),this.buildKeyframeEditorCanvas()}},{key:"buildPlayhead",value:function buildPlayhead(){var e=this.props,t=e.size,r=e.now,n=this.timelineMath(),o=n.timelineStart,i=n.timelineStep;return{playheadLine:new this.paper.Path.Line({from:[o+r*i,10],to:[o+r*i,t.height-10],strokeColor:"white",strokeWidth:1}),playheadTriangle:new this.paper.Path.RegularPolygon({center:[o+r*i,10],sides:3,radius:6,rotation:180,fillColor:"white"})}}},{key:"timelineMath",value:function timelineMath(){var e=this.props,t=e.size,r=e.frames,n=t.width-40,o=n-80;return{verticalSpacing:40,timelineStart:80,timelineEnd:n,timelineWidth:o,timelineStep:o/r}}},{key:"render",value:function render(){var e=this.props,t=e.size,r=e.item;return void 0===t||void 0===r?b.a.createElement("h3",{style:{padding:"10px",color:"grey"}},"Select an Item to view its Keyframes."):b.a.createElement("div",{style:{padding:"10px"}},b.a.createElement(i.a,{id:"keyframe-editor",width:t.width,height:t.height,hasSize:this.keyframeEditorHasSize}))}}]),KeyframeEditor}())||p,g=r("aP9/"),O=r("RYE5"),P=r("T/Ia");function AnimateMode_typeof(e){return(AnimateMode_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AnimateMode_slicedToArray(e,t){return function AnimateMode_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function AnimateMode_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return r}(e,t)||function AnimateMode_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function AnimateMode_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AnimateMode_possibleConstructorReturn(e,t){return!t||"object"!==AnimateMode_typeof(t)&&"function"!=typeof t?function AnimateMode_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function AnimateMode_getPrototypeOf(e){return(AnimateMode_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function AnimateMode_setPrototypeOf(e,t){return(AnimateMode_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var y=Object(o.a)(f=function(){function AnimateMode(){var e,b;!function AnimateMode_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AnimateMode);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(b=AnimateMode_possibleConstructorReturn(this,(e=AnimateMode_getPrototypeOf(AnimateMode)).call.apply(e,[this].concat(r)))).state={heWidth:void 0,keSize:void 0,selectedItemKey:void 0},b.autorunDisposer=void 0,b.onSetup=function(){var e=b.props.store.canvas;e.build(),setTimeout(function(){e.setTool(void 0),e.setTool("SELECT")},20)},b.changeHandlePosition=function(e,t){var r=t.influence,n=t.distance,o=b.props.store,i=o.tools,a=o.canvas;if(i.selectedKeyframe){var l=Object(P.b)(e),c=AnimateMode_slicedToArray(i.selectedKeyframe.split("."),3),s=c[0],u=c[1],p=c[2],f=parseInt(p);"IN"===e&&(f+=1);var y,d=a.animatables[s].keyframes[u][f]["handle".concat(l)];"x"===u&&(y=a.animatables[s].keyframes.y[f]["handle".concat(l)]),d.influence+=r,d.distance+=n,y&&(y.influence+=r,y.distance+=n)}},b}return function AnimateMode_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AnimateMode_setPrototypeOf(e,t)}(AnimateMode,n["Component"]),function AnimateMode_createClass(e,t,r){return t&&AnimateMode_defineProperties(e.prototype,t),r&&AnimateMode_defineProperties(e,r),e}(AnimateMode,[{key:"componentDidMount",value:function componentDidMount(){var n=this,r=this.props.store.canvas,o=document.getElementById("view-container");setTimeout(function(){var e=Math.round(o.clientWidth)-20,t=Math.round(9/16*e);r.setSize(e,t)},1);var i=document.getElementById("handle-container");setTimeout(function(){var e=Math.round(i.clientWidth)-20,t=Math.round(i.clientHeight)-20,r=Math.min(e,t);n.setState({heWidth:r})},1);var a=document.getElementById("keyframe-container");setTimeout(function(){var e=Math.round(a.clientWidth)-20,t=Math.round(a.clientHeight)-20;n.setState({keSize:{width:e,height:t}})},1),this.autorunDisposer=Object(l.e)(function(){r.selected?n.setState({selectedItemKey:r.selected.key}):n.setState({selectedItemKey:void 0})})}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){var r=this.props.store.tools;t.selectedItemKey!==this.state.selectedItemKey&&r.selectKeyframe(void 0)}},{key:"componentWillUnmount",value:function componentWillUnmount(){var e=this.props.store,t=e.canvas,r=e.project,n=e.tools;t.selectOff(),r.clear(),n.selectKeyframe(void 0),this.autorunDisposer()}},{key:"render",value:function render(){var e,t,r=this.props.store,n=r.canvas,o=r.animation,i=r.tools,a=this.state,l=a.heWidth,c=a.keSize;if(i.selectedKeyframe){var s=AnimateMode_slicedToArray(i.selectedKeyframe.split("."),3),u=s[0],p=s[1],f=s[2],y=parseInt(f),d=n.animatables[u].keyframes[p];e=d[y],y+1<d.length&&(t=d[y+1])}return b.a.createElement(g.a,{gridTemplateRows:"auto 340px",gridTemplateColumns:"auto 400px"},b.a.createElement(O.a,{id:"view-container",padding:"10px",gridArea:"1 / 1 / 1 / 2"},b.a.createElement(h.a,{canvas:n,animation:o,onSetup:this.onSetup})),b.a.createElement(O.a,{id:"handle-container",gridArea:"1 / 2 / 1 / 3",backgroundColor:"rgb(210, 210, 210)"},b.a.createElement(m,{width:l,keyframeKey:i.selectedKeyframe,keyframeBefore:e,keyframeAfter:t,onMove:this.changeHandlePosition})),b.a.createElement(O.a,{id:"keyframe-container",gridArea:"2 / 1 / 2 / 3",backgroundColor:"rgb(180, 180, 180)"},b.a.createElement(_,{size:c,item:n.selected,keyframeKey:i.selectedKeyframe,keyframe:e,onSelect:i.selectKeyframe,frames:o.frames,now:o.now})))}}]),AnimateMode}())||f;t.a=y},"yQ/3":function(e,t,r){"use strict";var n,o=r("q1tI"),c=r.n(o),i=r("kMSe"),a=r("AHVW"),s=r("aP9/"),u=r("RYE5");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var l=Object(i.a)(n=function(){function PlayController(){var e,p;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlayController);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(p=_possibleConstructorReturn(this,(e=_getPrototypeOf(PlayController)).call.apply(e,[this].concat(r)))).handleKeyDown=function(e){var t=p.props.animation,r=t.play,n=t.pause,o=t.goToNext,i=t.goToPrev,a=t.goToFirst,l=t.goToLast,c=t.playing,s=e.key,u=e.shiftKey;"ArrowLeft"===s&&u?a():"ArrowLeft"===s?i():"ArrowRight"===s&&u?l():"ArrowRight"===s?o():" "===s&&(e.stopPropagation(),e.preventDefault(),!0===c?n():r())},p}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(PlayController,o["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(PlayController,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"render",value:function render(){var e=this.props.animation,t=e.play,r=e.pause,n=e.goToNext,o=e.goToPrev,i=e.goToFirst,a=e.goToLast,l=e.playing;return c.a.createElement(s.a,{gridTemplateColumns:"30% 1fr 1fr 1fr 1fr 1fr 30%",height:"60px",alignItems:"center",justifyItems:"center",borderTop:"1px solid rgb(230, 230, 230)"},c.a.createElement(u.a,{gridColumnStart:"2"},c.a.createElement("button",{type:"button",style:{margin:0},onClick:i},"⇤")),c.a.createElement(u.a,{gridColumnStart:"3"},c.a.createElement("button",{type:"button",style:{margin:0},onClick:o},"◃")),c.a.createElement(u.a,{gridColumnStart:"4"},!1===l?c.a.createElement("button",{type:"button",style:{margin:0},onClick:t},"►"):c.a.createElement("button",{type:"button",style:{margin:0},onClick:r},"❙ ❙")),c.a.createElement(u.a,{gridColumnStart:"5"},c.a.createElement("button",{type:"button",style:{margin:0},onClick:n},c.a.createElement("div",{style:{transform:"rotate(180deg)"}},"◃"))),c.a.createElement(u.a,{gridColumnStart:"6"},c.a.createElement("button",{type:"button",style:{margin:0},onClick:a},"⇥")))}}]),PlayController}())||n;function JK(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}var p;function ViewMode_typeof(e){return(ViewMode_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ViewMode_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ViewMode_possibleConstructorReturn(e,t){return!t||"object"!==ViewMode_typeof(t)&&"function"!=typeof t?function ViewMode_assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ViewMode_getPrototypeOf(e){return(ViewMode_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ViewMode_setPrototypeOf(e,t){return(ViewMode_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var f=Object(i.a)(p=function(){function ViewMode(){var e,t;!function ViewMode_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ViewMode);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=ViewMode_possibleConstructorReturn(this,(e=ViewMode_getPrototypeOf(ViewMode)).call.apply(e,[this].concat(n)))).onSetup=function(){t.props.store.canvas.build()},t}return function ViewMode_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ViewMode_setPrototypeOf(e,t)}(ViewMode,o["Component"]),function ViewMode_createClass(e,t,r){return t&&ViewMode_defineProperties(e.prototype,t),r&&ViewMode_defineProperties(e,r),e}(ViewMode,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props.store.canvas,t=JK()-20,r=Math.round(9/16*t);e.setSize(t,r)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.store.project.clear()}},{key:"render",value:function render(){var e=this.props.store,t=e.canvas,r=e.animation;return c.a.createElement(s.a,{gridTemplateRows:"auto 60px",alignItems:"center"},c.a.createElement(u.a,{padding:"10px"},c.a.createElement(a.a,{canvas:t,animation:r,onSetup:this.onSetup})),c.a.createElement(l,{animation:r}))}}]),ViewMode}())||p;t.a=f},zGb5:function(e,t,r){var n={"./bare.min.css":"v4a6"};function webpackContext(e){var t=webpackContextResolve(e);return r(t)}function webpackContextResolve(e){if(r.o(n,e))return n[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackContext.keys=function webpackContextKeys(){return Object.keys(n)},webpackContext.resolve=webpackContextResolve,(e.exports=webpackContext).id="zGb5"}},[["6+jb",1,2]]]);
//# sourceMappingURL=app.b1822fce.js.map